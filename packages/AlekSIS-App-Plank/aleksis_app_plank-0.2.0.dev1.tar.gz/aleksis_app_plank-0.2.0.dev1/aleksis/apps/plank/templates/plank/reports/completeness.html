{% extends 'core/base_print.html' %}

{% load i18n static %}

{% block extra_head %}
  <link rel="stylesheet" href="{% static "plank/print.css" %}">
{% endblock %}

{% block browser_title %}{% blocktrans %}Print: Completeness report{% endblocktrans %}{% endblock %}
{% block page_title %}{% blocktrans %}Completeness report{% endblocktrans %}{% endblock %}

{% block content %}
  <h4>{{ object.name }}</h4>
  <table>
    <tr>
      <th>
        <span class="green-text">âœ”</span>
      </th>
      <th>
        {% trans "Items registered at this location" %}
      </th>
      <td class="right-align">
        {{ items_count }}
      </td>
    </tr>
    <tr>
      <th>
        <span class="red-text">ðŸ—™</span>
      </th>
      <th>
        {% trans "Missing items" %}
      </th>
      <td class="right-align">
        {{ missing_items }}
      </td>
    </tr>
    <tr>
      <th>
        <span class="green-text">+</span>
      </th>
      <th>
        {% trans "Items moved to this location" %}
      </th>
      <td class="right-align">
        {{ moved_items }}
      </td>
    </tr>
  </table>

  <h5>{% trans "Items" %}</h5>
  <table>
    <tr>
      <th>{% trans "Status" %}</th>
      <th>{% trans "Barcode/ID" %}</th>
      <th>{% trans "Name" %}</th>
      <th>{% trans "Item type" %}</th>
      <th>{% trans "Category" %}</th>
      <th>{% trans "Status" %}</th>
    </tr>
    {% for item in items_with_status %}
      <tr>
        <td>
          {% if item.status == 'moved' %}
            <span class="green-text larger-text">+</span>
          {% elif item.status == "in_place" %}
            <span class="green-text larger-text">âœ”</span>
          {% endif %}
        </td>
        <td>#{{ item.item.id }} ({{ item.item.barcode }})</td>
        <td>{{ item.item.name }}</td>
        <td>{{ item.item.item_type|default:"â€“" }}</td>
        <td>{{ item.item.category }}</td>
        <td>{% include "plank/item/status.html" with item=item.item short=True %}</td>
      </tr>
    {% endfor %}
  </table>
{% endblock %}