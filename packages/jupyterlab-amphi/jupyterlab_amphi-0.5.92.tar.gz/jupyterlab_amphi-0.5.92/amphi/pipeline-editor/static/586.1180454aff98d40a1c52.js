(self.webpackChunk_amphi_pipeline_editor=self.webpackChunk_amphi_pipeline_editor||[]).push([[586],{7586:(e,t,r)=>{e.exports={graphlib:r(4678),layout:r(8870),debug:r(1665),util:{time:r(6856).time,notime:r(6856).notime},version:r(898)}},8642:(e,t,r)=>{"use strict";let n=r(6635),o=r(6856).uniqueId;e.exports={run:function(e){("greedy"===e.graph().acyclicer?n(e,function(e){return t=>e.edge(t).weight}(e)):function(e){let t=[],r={},n={};return e.nodes().forEach((function o(i){Object.hasOwn(n,i)||(n[i]=!0,r[i]=!0,e.outEdges(i).forEach((e=>{Object.hasOwn(r,e.w)?t.push(e):o(e.w)})),delete r[i])})),t}(e)).forEach((t=>{let r=e.edge(t);e.removeEdge(t),r.forwardName=t.name,r.reversed=!0,e.setEdge(t.w,t.v,r,o("rev"))}))},undo:function(e){e.edges().forEach((t=>{let r=e.edge(t);if(r.reversed){e.removeEdge(t);let n=r.forwardName;delete r.reversed,delete r.forwardName,e.setEdge(t.w,t.v,r,n)}}))}}},6883:(e,t,r)=>{let n=r(6856);function o(e,t,r,o,i,s){let a={width:0,height:0,rank:s,borderType:t},d=i[t][s-1],h=n.addDummyNode(e,"border",a,r);i[t][s]=h,e.setParent(h,o),d&&e.setEdge(d,h,{weight:1})}e.exports=function(e){e.children().forEach((function t(r){let n=e.children(r),i=e.node(r);if(n.length&&n.forEach(t),Object.hasOwn(i,"minRank")){i.borderLeft=[],i.borderRight=[];for(let t=i.minRank,n=i.maxRank+1;t<n;++t)o(e,"borderLeft","_bl",r,i,t),o(e,"borderRight","_br",r,i,t)}}))}},5574:e=>{"use strict";function t(e){e.nodes().forEach((t=>r(e.node(t)))),e.edges().forEach((t=>r(e.edge(t))))}function r(e){let t=e.width;e.width=e.height,e.height=t}function n(e){e.y=-e.y}function o(e){let t=e.x;e.x=e.y,e.y=t}e.exports={adjust:function(e){let r=e.graph().rankdir.toLowerCase();"lr"!==r&&"rl"!==r||t(e)},undo:function(e){let r=e.graph().rankdir.toLowerCase();"bt"!==r&&"rl"!==r||function(e){e.nodes().forEach((t=>n(e.node(t)))),e.edges().forEach((t=>{let r=e.edge(t);r.points.forEach(n),Object.hasOwn(r,"y")&&n(r)}))}(e),"lr"!==r&&"rl"!==r||(function(e){e.nodes().forEach((t=>o(e.node(t)))),e.edges().forEach((t=>{let r=e.edge(t);r.points.forEach(o),Object.hasOwn(r,"x")&&o(r)}))}(e),t(e))}}},1983:e=>{function t(e){e._prev._next=e._next,e._next._prev=e._prev,delete e._next,delete e._prev}function r(e,t){if("_next"!==e&&"_prev"!==e)return t}e.exports=class{constructor(){let e={};e._next=e._prev=e,this._sentinel=e}dequeue(){let e=this._sentinel,r=e._prev;if(r!==e)return t(r),r}enqueue(e){let r=this._sentinel;e._prev&&e._next&&t(e),e._next=r._next,r._next._prev=e,r._next=e,e._prev=r}toString(){let e=[],t=this._sentinel,n=t._prev;for(;n!==t;)e.push(JSON.stringify(n,r)),n=n._prev;return"["+e.join(", ")+"]"}}},1665:(e,t,r)=>{let n=r(6856),o=r(4678).Graph;e.exports={debugOrdering:function(e){let t=n.buildLayerMatrix(e),r=new o({compound:!0,multigraph:!0}).setGraph({});return e.nodes().forEach((t=>{r.setNode(t,{label:t}),r.setParent(t,"layer"+e.node(t).rank)})),e.edges().forEach((e=>r.setEdge(e.v,e.w,{},e.name))),t.forEach(((e,t)=>{let n="layer"+t;r.setNode(n,{rank:"same"}),e.reduce(((e,t)=>(r.setEdge(e,t,{style:"invis"}),t)))})),r}}},6635:(e,t,r)=>{let n=r(4678).Graph,o=r(1983);e.exports=function(e,t){if(e.nodeCount()<=1)return[];let r=function(e,t){let r=new n,i=0,s=0;e.nodes().forEach((e=>{r.setNode(e,{v:e,in:0,out:0})})),e.edges().forEach((e=>{let n=r.edge(e.v,e.w)||0,o=t(e),a=n+o;r.setEdge(e.v,e.w,a),s=Math.max(s,r.node(e.v).out+=o),i=Math.max(i,r.node(e.w).in+=o)}));let d=function(e){const t=[];for(let r=0;r<e;r++)t.push(r);return t}(s+i+3).map((()=>new o)),h=i+1;return r.nodes().forEach((e=>{a(d,h,r.node(e))})),{graph:r,buckets:d,zeroIdx:h}}(e,t||i);return function(e,t,r){let n,o=[],i=t[t.length-1],a=t[0];for(;e.nodeCount();){for(;n=a.dequeue();)s(e,t,r,n);for(;n=i.dequeue();)s(e,t,r,n);if(e.nodeCount())for(let i=t.length-2;i>0;--i)if(n=t[i].dequeue(),n){o=o.concat(s(e,t,r,n,!0));break}}return o}(r.graph,r.buckets,r.zeroIdx).flatMap((t=>e.outEdges(t.v,t.w)))};let i=()=>1;function s(e,t,r,n,o){let i=o?[]:void 0;return e.inEdges(n.v).forEach((n=>{let s=e.edge(n),d=e.node(n.v);o&&i.push({v:n.v,w:n.w}),d.out-=s,a(t,r,d)})),e.outEdges(n.v).forEach((n=>{let o=e.edge(n),i=n.w,s=e.node(i);s.in-=o,a(t,r,s)})),e.removeNode(n.v),i}function a(e,t,r){r.out?r.in?e[r.out-r.in+t].enqueue(r):e[e.length-1].enqueue(r):e[0].enqueue(r)}},8870:(e,t,r)=>{"use strict";let n=r(8642),o=r(1293),i=r(3045),s=r(6856).normalizeRanks,a=r(2488),d=r(6856).removeEmptyRanks,h=r(9885),u=r(6883),c=r(5574),l=r(5577),f=r(8924),g=r(6856),p=r(4678).Graph;e.exports=function(e,t){let r=t&&t.debugTiming?g.time:g.notime;r("layout",(()=>{let N=r("  buildLayoutGraph",(()=>function(e){let t=new p({multigraph:!0,compound:!0}),r=x(e.graph());return t.setGraph(Object.assign({},m,O(r,v),g.pick(r,w))),e.nodes().forEach((r=>{const n=O(x(e.node(r)),b);Object.keys(E).forEach((e=>{void 0===n[e]&&(n[e]=E[e])})),t.setNode(r,n),t.setParent(r,e.parent(r))})),e.edges().forEach((r=>{let n=x(e.edge(r));t.setEdge(r,Object.assign({},y,O(n,_),g.pick(n,k)))})),t}(e)));r("  runLayout",(()=>function(e,t,r){t("    makeSpaceForEdgeLabels",(()=>function(e){let t=e.graph();t.ranksep/=2,e.edges().forEach((r=>{let n=e.edge(r);n.minlen*=2,"c"!==n.labelpos.toLowerCase()&&("TB"===t.rankdir||"BT"===t.rankdir?n.width+=n.labeloffset:n.height+=n.labeloffset)}))}(e))),t("    removeSelfEdges",(()=>function(e){e.edges().forEach((t=>{if(t.v===t.w){var r=e.node(t.v);r.selfEdges||(r.selfEdges=[]),r.selfEdges.push({e:t,label:e.edge(t)}),e.removeEdge(t)}}))}(e))),t("    acyclic",(()=>n.run(e))),t("    nestingGraph.run",(()=>h.run(e))),t("    rank",(()=>i(g.asNonCompoundGraph(e)))),t("    injectEdgeLabelProxies",(()=>function(e){e.edges().forEach((t=>{let r=e.edge(t);if(r.width&&r.height){let r=e.node(t.v),n={rank:(e.node(t.w).rank-r.rank)/2+r.rank,e:t};g.addDummyNode(e,"edge-proxy",n,"_ep")}}))}(e))),t("    removeEmptyRanks",(()=>d(e))),t("    nestingGraph.cleanup",(()=>h.cleanup(e))),t("    normalizeRanks",(()=>s(e))),t("    assignRankMinMax",(()=>function(e){let t=0;e.nodes().forEach((r=>{let n=e.node(r);n.borderTop&&(n.minRank=e.node(n.borderTop).rank,n.maxRank=e.node(n.borderBottom).rank,t=Math.max(t,n.maxRank))})),e.graph().maxRank=t}(e))),t("    removeEdgeLabelProxies",(()=>function(e){e.nodes().forEach((t=>{let r=e.node(t);"edge-proxy"===r.dummy&&(e.edge(r.e).labelRank=r.rank,e.removeNode(t))}))}(e))),t("    normalize.run",(()=>o.run(e))),t("    parentDummyChains",(()=>a(e))),t("    addBorderSegments",(()=>u(e))),t("    order",(()=>l(e,r))),t("    insertSelfEdges",(()=>function(e){g.buildLayerMatrix(e).forEach((t=>{var r=0;t.forEach(((t,n)=>{var o=e.node(t);o.order=n+r,(o.selfEdges||[]).forEach((t=>{g.addDummyNode(e,"selfedge",{width:t.label.width,height:t.label.height,rank:o.rank,order:n+ ++r,e:t.e,label:t.label},"_se")})),delete o.selfEdges}))}))}(e))),t("    adjustCoordinateSystem",(()=>c.adjust(e))),t("    position",(()=>f(e))),t("    positionSelfEdges",(()=>function(e){e.nodes().forEach((t=>{var r=e.node(t);if("selfedge"===r.dummy){var n=e.node(r.e.v),o=n.x+n.width/2,i=n.y,s=r.x-o,a=n.height/2;e.setEdge(r.e,r.label),e.removeNode(t),r.label.points=[{x:o+2*s/3,y:i-a},{x:o+5*s/6,y:i-a},{x:o+s,y:i},{x:o+5*s/6,y:i+a},{x:o+2*s/3,y:i+a}],r.label.x=r.x,r.label.y=r.y}}))}(e))),t("    removeBorderNodes",(()=>function(e){e.nodes().forEach((t=>{if(e.children(t).length){let r=e.node(t),n=e.node(r.borderTop),o=e.node(r.borderBottom),i=e.node(r.borderLeft[r.borderLeft.length-1]),s=e.node(r.borderRight[r.borderRight.length-1]);r.width=Math.abs(s.x-i.x),r.height=Math.abs(o.y-n.y),r.x=i.x+r.width/2,r.y=n.y+r.height/2}})),e.nodes().forEach((t=>{"border"===e.node(t).dummy&&e.removeNode(t)}))}(e))),t("    normalize.undo",(()=>o.undo(e))),t("    fixupEdgeLabelCoords",(()=>function(e){e.edges().forEach((t=>{let r=e.edge(t);if(Object.hasOwn(r,"x"))switch("l"!==r.labelpos&&"r"!==r.labelpos||(r.width-=r.labeloffset),r.labelpos){case"l":r.x-=r.width/2+r.labeloffset;break;case"r":r.x+=r.width/2+r.labeloffset}}))}(e))),t("    undoCoordinateSystem",(()=>c.undo(e))),t("    translateGraph",(()=>function(e){let t=Number.POSITIVE_INFINITY,r=0,n=Number.POSITIVE_INFINITY,o=0,i=e.graph(),s=i.marginx||0,a=i.marginy||0;function d(e){let i=e.x,s=e.y,a=e.width,d=e.height;t=Math.min(t,i-a/2),r=Math.max(r,i+a/2),n=Math.min(n,s-d/2),o=Math.max(o,s+d/2)}e.nodes().forEach((t=>d(e.node(t)))),e.edges().forEach((t=>{let r=e.edge(t);Object.hasOwn(r,"x")&&d(r)})),t-=s,n-=a,e.nodes().forEach((r=>{let o=e.node(r);o.x-=t,o.y-=n})),e.edges().forEach((r=>{let o=e.edge(r);o.points.forEach((e=>{e.x-=t,e.y-=n})),Object.hasOwn(o,"x")&&(o.x-=t),Object.hasOwn(o,"y")&&(o.y-=n)})),i.width=r-t+s,i.height=o-n+a}(e))),t("    assignNodeIntersects",(()=>function(e){e.edges().forEach((t=>{let r,n,o=e.edge(t),i=e.node(t.v),s=e.node(t.w);o.points?(r=o.points[0],n=o.points[o.points.length-1]):(o.points=[],r=s,n=i),o.points.unshift(g.intersectRect(i,r)),o.points.push(g.intersectRect(s,n))}))}(e))),t("    reversePoints",(()=>function(e){e.edges().forEach((t=>{let r=e.edge(t);r.reversed&&r.points.reverse()}))}(e))),t("    acyclic.undo",(()=>n.undo(e)))}(N,r,t))),r("  updateInputGraph",(()=>function(e,t){e.nodes().forEach((r=>{let n=e.node(r),o=t.node(r);n&&(n.x=o.x,n.y=o.y,n.rank=o.rank,t.children(r).length&&(n.width=o.width,n.height=o.height))})),e.edges().forEach((r=>{let n=e.edge(r),o=t.edge(r);n.points=o.points,Object.hasOwn(o,"x")&&(n.x=o.x,n.y=o.y)})),e.graph().width=t.graph().width,e.graph().height=t.graph().height}(e,N)))}))};let v=["nodesep","edgesep","ranksep","marginx","marginy"],m={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},w=["acyclicer","ranker","rankdir","align"],b=["width","height"],E={width:0,height:0},_=["minlen","weight","width","height","labeloffset"],y={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},k=["labelpos"];function O(e,t){return g.mapValues(g.pick(e,t),Number)}function x(e){var t={};return e&&Object.entries(e).forEach((([e,r])=>{"string"==typeof e&&(e=e.toLowerCase()),t[e]=r})),t}},9885:(e,t,r)=>{let n=r(6856);function o(e,t,r,i,s,a,d){let h=e.children(d);if(!h.length)return void(d!==t&&e.setEdge(t,d,{weight:0,minlen:r}));let u=n.addBorderNode(e,"_bt"),c=n.addBorderNode(e,"_bb"),l=e.node(d);e.setParent(u,d),l.borderTop=u,e.setParent(c,d),l.borderBottom=c,h.forEach((n=>{o(e,t,r,i,s,a,n);let h=e.node(n),l=h.borderTop?h.borderTop:n,f=h.borderBottom?h.borderBottom:n,g=h.borderTop?i:2*i,p=l!==f?1:s-a[d]+1;e.setEdge(u,l,{weight:g,minlen:p,nestingEdge:!0}),e.setEdge(f,c,{weight:g,minlen:p,nestingEdge:!0})})),e.parent(d)||e.setEdge(t,u,{weight:0,minlen:s+a[d]})}e.exports={run:function(e){let t=n.addDummyNode(e,"root",{},"_root"),r=function(e){var t={};function r(n,o){var i=e.children(n);i&&i.length&&i.forEach((e=>r(e,o+1))),t[n]=o}return e.children().forEach((e=>r(e,1))),t}(e),i=Object.values(r),s=n.applyWithChunking(Math.max,i)-1,a=2*s+1;e.graph().nestingRoot=t,e.edges().forEach((t=>e.edge(t).minlen*=a));let d=function(e){return e.edges().reduce(((t,r)=>t+e.edge(r).weight),0)}(e)+1;e.children().forEach((n=>o(e,t,a,d,s,r,n))),e.graph().nodeRankFactor=a},cleanup:function(e){var t=e.graph();e.removeNode(t.nestingRoot),delete t.nestingRoot,e.edges().forEach((t=>{e.edge(t).nestingEdge&&e.removeEdge(t)}))}}},1293:(e,t,r)=>{"use strict";let n=r(6856);e.exports={run:function(e){e.graph().dummyChains=[],e.edges().forEach((t=>function(e,t){let r,o,i,s=t.v,a=e.node(s).rank,d=t.w,h=e.node(d).rank,u=t.name,c=e.edge(t),l=c.labelRank;if(h!==a+1){for(e.removeEdge(t),i=0,++a;a<h;++i,++a)c.points=[],o={width:0,height:0,edgeLabel:c,edgeObj:t,rank:a},r=n.addDummyNode(e,"edge",o,"_d"),a===l&&(o.width=c.width,o.height=c.height,o.dummy="edge-label",o.labelpos=c.labelpos),e.setEdge(s,r,{weight:c.weight},u),0===i&&e.graph().dummyChains.push(r),s=r;e.setEdge(s,d,{weight:c.weight},u)}}(e,t)))},undo:function(e){e.graph().dummyChains.forEach((t=>{let r,n=e.node(t),o=n.edgeLabel;for(e.setEdge(n.edgeObj,o);n.dummy;)r=e.successors(t)[0],e.removeNode(t),o.points.push({x:n.x,y:n.y}),"edge-label"===n.dummy&&(o.x=n.x,o.y=n.y,o.width=n.width,o.height=n.height),t=r,n=e.node(t)}))}}},7508:e=>{e.exports=function(e,t,r){let n,o={};r.forEach((r=>{let i,s,a=e.parent(r);for(;a;){if(i=e.parent(a),i?(s=o[i],o[i]=a):(s=n,n=a),s&&s!==a)return void t.setEdge(s,a);a=i}}))}},4592:e=>{e.exports=function(e,t=[]){return t.map((t=>{let r=e.inEdges(t);if(r.length){let n=r.reduce(((t,r)=>{let n=e.edge(r),o=e.node(r.v);return{sum:t.sum+n.weight*o.order,weight:t.weight+n.weight}}),{sum:0,weight:0});return{v:t,barycenter:n.sum/n.weight,weight:n.weight}}return{v:t}}))}},4600:(e,t,r)=>{let n=r(4678).Graph,o=r(6856);e.exports=function(e,t,r){let i=function(e){for(var t;e.hasNode(t=o.uniqueId("_root")););return t}(e),s=new n({compound:!0}).setGraph({root:i}).setDefaultNodeLabel((t=>e.node(t)));return e.nodes().forEach((n=>{let o=e.node(n),a=e.parent(n);(o.rank===t||o.minRank<=t&&t<=o.maxRank)&&(s.setNode(n),s.setParent(n,a||i),e[r](n).forEach((t=>{let r=t.v===n?t.w:t.v,o=s.edge(r,n),i=void 0!==o?o.weight:0;s.setEdge(r,n,{weight:e.edge(t).weight+i})})),Object.hasOwn(o,"minRank")&&s.setNode(n,{borderLeft:o.borderLeft[t],borderRight:o.borderRight[t]}))})),s}},835:(e,t,r)=>{"use strict";let n=r(6856).zipObject;function o(e,t,r){let o=n(r,r.map(((e,t)=>t))),i=t.flatMap((t=>e.outEdges(t).map((t=>({pos:o[t.w],weight:e.edge(t).weight}))).sort(((e,t)=>e.pos-t.pos)))),s=1;for(;s<r.length;)s<<=1;let a=2*s-1;s-=1;let d=new Array(a).fill(0),h=0;return i.forEach((e=>{let t=e.pos+s;d[t]+=e.weight;let r=0;for(;t>0;)t%2&&(r+=d[t+1]),t=t-1>>1,d[t]+=e.weight;h+=e.weight*r})),h}e.exports=function(e,t){let r=0;for(let n=1;n<t.length;++n)r+=o(e,t[n-1],t[n]);return r}},5577:(e,t,r)=>{"use strict";let n=r(6498),o=r(835),i=r(2804),s=r(4600),a=r(7508),d=r(4678).Graph,h=r(6856);function u(e,t,r){return t.map((function(t){return s(e,t,r)}))}function c(e,t){let r=new d;e.forEach((function(e){let n=e.graph().root,o=i(e,n,r,t);o.vs.forEach(((t,r)=>e.node(t).order=r)),a(e,r,o.vs)}))}function l(e,t){Object.values(t).forEach((t=>t.forEach(((t,r)=>e.node(t).order=r))))}e.exports=function e(t,r){if(r&&"function"==typeof r.customOrder)return void r.customOrder(t,e);let i=h.maxRank(t),s=u(t,h.range(1,i+1),"inEdges"),a=u(t,h.range(i-1,-1,-1),"outEdges"),d=n(t);if(l(t,d),r&&r.disableOptimalOrderHeuristic)return;let f,g=Number.POSITIVE_INFINITY;for(let e=0,r=0;r<4;++e,++r){c(e%2?s:a,e%4>=2),d=h.buildLayerMatrix(t);let n=o(t,d);n<g&&(r=0,f=Object.assign({},d),g=n)}l(t,f)}},6498:(e,t,r)=>{"use strict";let n=r(6856);e.exports=function(e){let t={},r=e.nodes().filter((t=>!e.children(t).length)),o=r.map((t=>e.node(t).rank)),i=n.applyWithChunking(Math.max,o),s=n.range(i+1).map((()=>[]));return r.sort(((t,r)=>e.node(t).rank-e.node(r).rank)).forEach((function r(n){if(t[n])return;t[n]=!0;let o=e.node(n);s[o.rank].push(n),e.successors(n).forEach(r)})),s}},2635:(e,t,r)=>{"use strict";let n=r(6856);e.exports=function(e,t){let r={};return e.forEach(((e,t)=>{let n=r[e.v]={indegree:0,in:[],out:[],vs:[e.v],i:t};void 0!==e.barycenter&&(n.barycenter=e.barycenter,n.weight=e.weight)})),t.edges().forEach((e=>{let t=r[e.v],n=r[e.w];void 0!==t&&void 0!==n&&(n.indegree++,t.out.push(r[e.w]))})),function(e){let t=[];function r(e){return t=>{t.merged||(void 0===t.barycenter||void 0===e.barycenter||t.barycenter>=e.barycenter)&&function(e,t){let r=0,n=0;e.weight&&(r+=e.barycenter*e.weight,n+=e.weight),t.weight&&(r+=t.barycenter*t.weight,n+=t.weight),e.vs=t.vs.concat(e.vs),e.barycenter=r/n,e.weight=n,e.i=Math.min(t.i,e.i),t.merged=!0}(e,t)}}function o(t){return r=>{r.in.push(t),0==--r.indegree&&e.push(r)}}for(;e.length;){let n=e.pop();t.push(n),n.in.reverse().forEach(r(n)),n.out.forEach(o(n))}return t.filter((e=>!e.merged)).map((e=>n.pick(e,["vs","i","barycenter","weight"])))}(Object.values(r).filter((e=>!e.indegree)))}},2804:(e,t,r)=>{let n=r(4592),o=r(2635),i=r(5437);e.exports=function e(t,r,s,a){let d=t.children(r),h=t.node(r),u=h?h.borderLeft:void 0,c=h?h.borderRight:void 0,l={};u&&(d=d.filter((e=>e!==u&&e!==c)));let f=n(t,d);f.forEach((r=>{if(t.children(r.v).length){let i=e(t,r.v,s,a);l[r.v]=i,Object.hasOwn(i,"barycenter")&&(o=i,void 0!==(n=r).barycenter?(n.barycenter=(n.barycenter*n.weight+o.barycenter*o.weight)/(n.weight+o.weight),n.weight+=o.weight):(n.barycenter=o.barycenter,n.weight=o.weight))}var n,o}));let g=o(f,s);!function(e,t){e.forEach((e=>{e.vs=e.vs.flatMap((e=>t[e]?t[e].vs:e))}))}(g,l);let p=i(g,a);if(u&&(p.vs=[u,p.vs,c].flat(!0),t.predecessors(u).length)){let e=t.node(t.predecessors(u)[0]),r=t.node(t.predecessors(c)[0]);Object.hasOwn(p,"barycenter")||(p.barycenter=0,p.weight=0),p.barycenter=(p.barycenter*p.weight+e.order+r.order)/(p.weight+2),p.weight+=2}return p}},5437:(e,t,r)=>{let n=r(6856);function o(e,t,r){let n;for(;t.length&&(n=t[t.length-1]).i<=r;)t.pop(),e.push(n.vs),r++;return r}e.exports=function(e,t){let r=n.partition(e,(e=>Object.hasOwn(e,"barycenter"))),i=r.lhs,s=r.rhs.sort(((e,t)=>t.i-e.i)),a=[],d=0,h=0,u=0;var c;i.sort((c=!!t,(e,t)=>e.barycenter<t.barycenter?-1:e.barycenter>t.barycenter?1:c?t.i-e.i:e.i-t.i)),u=o(a,s,u),i.forEach((e=>{u+=e.vs.length,a.push(e.vs),d+=e.barycenter*e.weight,h+=e.weight,u=o(a,s,u)}));let l={vs:a.flat(!0)};return h&&(l.barycenter=d/h,l.weight=h),l}},2488:e=>{e.exports=function(e){let t=function(e){let t={},r=0;return e.children().forEach((function n(o){let i=r;e.children(o).forEach(n),t[o]={low:i,lim:r++}})),t}(e);e.graph().dummyChains.forEach((r=>{let n=e.node(r),o=n.edgeObj,i=function(e,t,r,n){let o,i,s=[],a=[],d=Math.min(t[r].low,t[n].low),h=Math.max(t[r].lim,t[n].lim);o=r;do{o=e.parent(o),s.push(o)}while(o&&(t[o].low>d||h>t[o].lim));for(i=o,o=n;(o=e.parent(o))!==i;)a.push(o);return{path:s.concat(a.reverse()),lca:i}}(e,t,o.v,o.w),s=i.path,a=i.lca,d=0,h=s[d],u=!0;for(;r!==o.w;){if(n=e.node(r),u){for(;(h=s[d])!==a&&e.node(h).maxRank<n.rank;)d++;h===a&&(u=!1)}if(!u){for(;d<s.length-1&&e.node(h=s[d+1]).minRank<=n.rank;)d++;h=s[d]}e.setParent(r,h),r=e.successors(r)[0]}}))}},8121:(e,t,r)=>{"use strict";let n=r(4678).Graph,o=r(6856);function i(e,t){let r={};return t.length&&t.reduce((function(t,n){let o=0,i=0,s=t.length,d=n[n.length-1];return n.forEach(((t,h)=>{let u=function(e,t){if(e.node(t).dummy)return e.predecessors(t).find((t=>e.node(t).dummy))}(e,t),c=u?e.node(u).order:s;(u||t===d)&&(n.slice(i,h+1).forEach((t=>{e.predecessors(t).forEach((n=>{let i=e.node(n),s=i.order;!(s<o||c<s)||i.dummy&&e.node(t).dummy||a(r,n,t)}))})),i=h+1,o=c)})),n})),r}function s(e,t){let r={};function n(t,n,i,s,d){let h;o.range(n,i).forEach((n=>{h=t[n],e.node(h).dummy&&e.predecessors(h).forEach((t=>{let n=e.node(t);n.dummy&&(n.order<s||n.order>d)&&a(r,t,h)}))}))}return t.length&&t.reduce((function(t,r){let o,i=-1,s=0;return r.forEach(((a,d)=>{if("border"===e.node(a).dummy){let t=e.predecessors(a);t.length&&(o=e.node(t[0]).order,n(r,s,d,i,o),s=d,i=o)}n(r,s,r.length,o,t.length)})),r})),r}function a(e,t,r){if(t>r){let e=t;t=r,r=e}let n=e[t];n||(e[t]=n={}),n[r]=!0}function d(e,t,r){if(t>r){let e=t;t=r,r=e}return!!e[t]&&Object.hasOwn(e[t],r)}function h(e,t,r,n){let o={},i={},s={};return t.forEach((e=>{e.forEach(((e,t)=>{o[e]=e,i[e]=e,s[e]=t}))})),t.forEach((e=>{let t=-1;e.forEach((e=>{let a=n(e);if(a.length){a=a.sort(((e,t)=>s[e]-s[t]));let n=(a.length-1)/2;for(let h=Math.floor(n),u=Math.ceil(n);h<=u;++h){let n=a[h];i[e]===e&&t<s[n]&&!d(r,e,n)&&(i[n]=e,i[e]=o[e]=o[n],t=s[n])}}}))})),{root:o,align:i}}function u(e,t,r,o,i){let s={},a=function(e,t,r,o){let i=new n,s=e.graph(),a=function(e,t,r){return(n,o,i)=>{let s,a=n.node(o),d=n.node(i),h=0;if(h+=a.width/2,Object.hasOwn(a,"labelpos"))switch(a.labelpos.toLowerCase()){case"l":s=-a.width/2;break;case"r":s=a.width/2}if(s&&(h+=r?s:-s),s=0,h+=(a.dummy?t:e)/2,h+=(d.dummy?t:e)/2,h+=d.width/2,Object.hasOwn(d,"labelpos"))switch(d.labelpos.toLowerCase()){case"l":s=d.width/2;break;case"r":s=-d.width/2}return s&&(h+=r?s:-s),s=0,h}}(s.nodesep,s.edgesep,o);return t.forEach((t=>{let n;t.forEach((t=>{let o=r[t];if(i.setNode(o),n){var s=r[n],d=i.edge(s,o);i.setEdge(s,o,Math.max(a(e,t,n),d||0))}n=t}))})),i}(e,t,r,i),d=i?"borderLeft":"borderRight";function h(e,t){let r=a.nodes(),n=r.pop(),o={};for(;n;)o[n]?e(n):(o[n]=!0,r.push(n),r=r.concat(t(n))),n=r.pop()}return h((function(e){s[e]=a.inEdges(e).reduce(((e,t)=>Math.max(e,s[t.v]+a.edge(t))),0)}),a.predecessors.bind(a)),h((function(t){let r=a.outEdges(t).reduce(((e,t)=>Math.min(e,s[t.w]-a.edge(t))),Number.POSITIVE_INFINITY),n=e.node(t);r!==Number.POSITIVE_INFINITY&&n.borderType!==d&&(s[t]=Math.max(s[t],r))}),a.successors.bind(a)),Object.keys(o).forEach((e=>s[e]=s[r[e]])),s}function c(e,t){return Object.values(t).reduce(((t,r)=>{let n=Number.NEGATIVE_INFINITY,o=Number.POSITIVE_INFINITY;Object.entries(r).forEach((([t,r])=>{let i=function(e,t){return e.node(t).width}(e,t)/2;n=Math.max(r+i,n),o=Math.min(r-i,o)}));const i=n-o;return i<t[0]&&(t=[i,r]),t}),[Number.POSITIVE_INFINITY,null])[1]}function l(e,t){let r=Object.values(t),n=o.applyWithChunking(Math.min,r),i=o.applyWithChunking(Math.max,r);["u","d"].forEach((r=>{["l","r"].forEach((s=>{let a=r+s,d=e[a];if(d===t)return;let h=Object.values(d),u=n-o.applyWithChunking(Math.min,h);"l"!==s&&(u=i-o.applyWithChunking(Math.max,h)),u&&(e[a]=o.mapValues(d,(e=>e+u)))}))}))}function f(e,t){return o.mapValues(e.ul,((r,n)=>{if(t)return e[t.toLowerCase()][n];{let t=Object.values(e).map((e=>e[n])).sort(((e,t)=>e-t));return(t[1]+t[2])/2}}))}e.exports={positionX:function(e){let t,r=o.buildLayerMatrix(e),n=Object.assign(i(e,r),s(e,r)),a={};["u","d"].forEach((i=>{t="u"===i?r:Object.values(r).reverse(),["l","r"].forEach((r=>{"r"===r&&(t=t.map((e=>Object.values(e).reverse())));let s=("u"===i?e.predecessors:e.successors).bind(e),d=h(0,t,n,s),c=u(e,t,d.root,d.align,"r"===r);"r"===r&&(c=o.mapValues(c,(e=>-e))),a[i+r]=c}))}));let d=c(e,a);return l(a,d),f(a,e.graph().align)},findType1Conflicts:i,findType2Conflicts:s,addConflict:a,hasConflict:d,verticalAlignment:h,horizontalCompaction:u,alignCoordinates:l,findSmallestWidthAlignment:c,balance:f}},8924:(e,t,r)=>{"use strict";let n=r(6856),o=r(8121).positionX;e.exports=function(e){(function(e){let t=n.buildLayerMatrix(e),r=e.graph().ranksep,o=0;t.forEach((t=>{const n=t.reduce(((t,r)=>{const n=e.node(r).height;return t>n?t:n}),0);t.forEach((t=>e.node(t).y=o+n/2)),o+=n+r}))})(e=n.asNonCompoundGraph(e)),Object.entries(o(e)).forEach((([t,r])=>e.node(t).x=r))}},7885:(e,t,r)=>{"use strict";var n=r(4678).Graph,o=r(4389).slack;function i(e,t){return e.nodes().forEach((function r(n){t.nodeEdges(n).forEach((i=>{var s=i.v,a=n===s?i.w:s;e.hasNode(a)||o(t,i)||(e.setNode(a,{}),e.setEdge(n,a,{}),r(a))}))})),e.nodeCount()}function s(e,t){return t.edges().reduce(((r,n)=>{let i=Number.POSITIVE_INFINITY;return e.hasNode(n.v)!==e.hasNode(n.w)&&(i=o(t,n)),i<r[0]?[i,n]:r}),[Number.POSITIVE_INFINITY,null])[1]}function a(e,t,r){e.nodes().forEach((e=>t.node(e).rank+=r))}e.exports=function(e){var t,r,d=new n({directed:!1}),h=e.nodes()[0],u=e.nodeCount();for(d.setNode(h,{});i(d,e)<u;)t=s(d,e),r=d.hasNode(t.v)?o(e,t):-o(e,t),a(d,e,r);return d}},3045:(e,t,r)=>{"use strict";var n=r(4389).longestPath,o=r(7885),i=r(7520);e.exports=function(e){switch(e.graph().ranker){case"network-simplex":default:!function(e){i(e)}(e);break;case"tight-tree":!function(e){n(e),o(e)}(e);break;case"longest-path":s(e)}};var s=n},7520:(e,t,r)=>{"use strict";var n=r(7885),o=r(4389).slack,i=r(4389).longestPath,s=r(4678).alg.preorder,a=r(4678).alg.postorder,d=r(6856).simplify;function h(e){e=d(e),i(e);var t,r=n(e);for(l(r),u(r,e);t=g(r);)v(r,e,t,p(r,e,t))}function u(e,t){var r=a(e,e.nodes());(r=r.slice(0,r.length-1)).forEach((r=>function(e,t,r){var n=e.node(r).parent;e.edge(r,n).cutvalue=c(e,t,r)}(e,t,r)))}function c(e,t,r){var n=e.node(r).parent,o=!0,i=t.edge(r,n),s=0;return i||(o=!1,i=t.edge(n,r)),s=i.weight,t.nodeEdges(r).forEach((i=>{var a,d,h=i.v===r,u=h?i.w:i.v;if(u!==n){var c=h===o,l=t.edge(i).weight;if(s+=c?l:-l,a=r,d=u,e.hasEdge(a,d)){var f=e.edge(r,u).cutvalue;s+=c?-f:f}}})),s}function l(e,t){arguments.length<2&&(t=e.nodes()[0]),f(e,{},1,t)}function f(e,t,r,n,o){var i=r,s=e.node(n);return t[n]=!0,e.neighbors(n).forEach((o=>{Object.hasOwn(t,o)||(r=f(e,t,r,o,n))})),s.low=i,s.lim=r++,o?s.parent=o:delete s.parent,r}function g(e){return e.edges().find((t=>e.edge(t).cutvalue<0))}function p(e,t,r){var n=r.v,i=r.w;t.hasEdge(n,i)||(n=r.w,i=r.v);var s=e.node(n),a=e.node(i),d=s,h=!1;s.lim>a.lim&&(d=a,h=!0);var u=t.edges().filter((t=>h===m(0,e.node(t.v),d)&&h!==m(0,e.node(t.w),d)));return u.reduce(((e,r)=>o(t,r)<o(t,e)?r:e))}function v(e,t,r,n){var o=r.v,i=r.w;e.removeEdge(o,i),e.setEdge(n.v,n.w,{}),l(e),u(e,t),function(e,t){var r=e.nodes().find((e=>!t.node(e).parent)),n=s(e,r);(n=n.slice(1)).forEach((r=>{var n=e.node(r).parent,o=t.edge(r,n),i=!1;o||(o=t.edge(n,r),i=!0),t.node(r).rank=t.node(n).rank+(i?o.minlen:-o.minlen)}))}(e,t)}function m(e,t,r){return r.low<=t.lim&&t.lim<=r.lim}e.exports=h,h.initLowLimValues=l,h.initCutValues=u,h.calcCutValue=c,h.leaveEdge=g,h.enterEdge=p,h.exchangeEdges=v},4389:(e,t,r)=>{"use strict";const{applyWithChunking:n}=r(6856);e.exports={longestPath:function(e){var t={};e.sources().forEach((function r(o){var i=e.node(o);if(Object.hasOwn(t,o))return i.rank;t[o]=!0;let s=e.outEdges(o).map((t=>null==t?Number.POSITIVE_INFINITY:r(t.w)-e.edge(t).minlen));var a=n(Math.min,s);return a===Number.POSITIVE_INFINITY&&(a=0),i.rank=a}))},slack:function(e,t){return e.node(t.w).rank-e.node(t.v).rank-e.edge(t).minlen}}},6856:(e,t,r)=>{"use strict";let n=r(4678).Graph;function o(e,t,r,n){let o;do{o=h(n)}while(e.hasNode(o));return r.dummy=t,e.setNode(o,r),o}e.exports={addBorderNode:function(e,t,r,n){let i={width:0,height:0};return arguments.length>=4&&(i.rank=r,i.order=n),o(e,"border",i,t)},addDummyNode:o,applyWithChunking:s,asNonCompoundGraph:function(e){let t=new n({multigraph:e.isMultigraph()}).setGraph(e.graph());return e.nodes().forEach((r=>{e.children(r).length||t.setNode(r,e.node(r))})),e.edges().forEach((r=>{t.setEdge(r,e.edge(r))})),t},buildLayerMatrix:function(e){let t=u(a(e)+1).map((()=>[]));return e.nodes().forEach((r=>{let n=e.node(r),o=n.rank;void 0!==o&&(t[o][n.order]=r)})),t},intersectRect:function(e,t){let r,n,o=e.x,i=e.y,s=t.x-o,a=t.y-i,d=e.width/2,h=e.height/2;if(!s&&!a)throw new Error("Not possible to find intersection inside of the rectangle");return Math.abs(a)*d>Math.abs(s)*h?(a<0&&(h=-h),r=h*s/a,n=h):(s<0&&(d=-d),r=d,n=d*a/s),{x:o+r,y:i+n}},mapValues:function(e,t){let r=t;return"string"==typeof t&&(r=e=>e[t]),Object.entries(e).reduce(((e,[t,n])=>(e[t]=r(n,t),e)),{})},maxRank:a,normalizeRanks:function(e){let t=e.nodes().map((t=>{let r=e.node(t).rank;return void 0===r?Number.MAX_VALUE:r})),r=s(Math.min,t);e.nodes().forEach((t=>{let n=e.node(t);Object.hasOwn(n,"rank")&&(n.rank-=r)}))},notime:function(e,t){return t()},partition:function(e,t){let r={lhs:[],rhs:[]};return e.forEach((e=>{t(e)?r.lhs.push(e):r.rhs.push(e)})),r},pick:function(e,t){const r={};for(const n of t)void 0!==e[n]&&(r[n]=e[n]);return r},predecessorWeights:function(e){let t=e.nodes().map((t=>{let r={};return e.inEdges(t).forEach((t=>{r[t.v]=(r[t.v]||0)+e.edge(t).weight})),r}));return c(e.nodes(),t)},range:u,removeEmptyRanks:function(e){let t=e.nodes().map((t=>e.node(t).rank)),r=s(Math.min,t),n=[];e.nodes().forEach((t=>{let o=e.node(t).rank-r;n[o]||(n[o]=[]),n[o].push(t)}));let o=0,i=e.graph().nodeRankFactor;Array.from(n).forEach(((t,r)=>{void 0===t&&r%i!=0?--o:void 0!==t&&o&&t.forEach((t=>e.node(t).rank+=o))}))},simplify:function(e){let t=(new n).setGraph(e.graph());return e.nodes().forEach((r=>t.setNode(r,e.node(r)))),e.edges().forEach((r=>{let n=t.edge(r.v,r.w)||{weight:0,minlen:1},o=e.edge(r);t.setEdge(r.v,r.w,{weight:n.weight+o.weight,minlen:Math.max(n.minlen,o.minlen)})})),t},successorWeights:function(e){let t=e.nodes().map((t=>{let r={};return e.outEdges(t).forEach((t=>{r[t.w]=(r[t.w]||0)+e.edge(t).weight})),r}));return c(e.nodes(),t)},time:function(e,t){let r=Date.now();try{return t()}finally{console.log(e+" time: "+(Date.now()-r)+"ms")}},uniqueId:h,zipObject:c};const i=65535;function s(e,t){if(t.length>i){const r=function(e,t=i){const r=[];for(let n=0;n<e.length;n+=t){const o=e.slice(n,n+t);r.push(o)}return r}(t);return e.apply(null,r.map((t=>e.apply(null,t))))}return e.apply(null,t)}function a(e){const t=e.nodes().map((t=>{let r=e.node(t).rank;return void 0===r?Number.MIN_VALUE:r}));return s(Math.max,t)}let d=0;function h(e){var t=++d;return toString(e)+t}function u(e,t,r=1){null==t&&(t=e,e=0);let n=e=>e<t;r<0&&(n=e=>t<e);const o=[];for(let t=e;n(t);t+=r)o.push(t);return o}function c(e,t){return e.reduce(((e,r,n)=>(e[r]=t[n],e)),{})}},898:e=>{e.exports="1.1.4"},4678:(e,t,r)=>{var n=r(2314);e.exports={Graph:n.Graph,json:r(2258),alg:r(6311),version:n.version}},2335:e=>{e.exports=function(e){var t,r={},n=[];function o(n){Object.hasOwn(r,n)||(r[n]=!0,t.push(n),e.successors(n).forEach(o),e.predecessors(n).forEach(o))}return e.nodes().forEach((function(e){t=[],o(e),t.length&&n.push(t)})),n}},6248:e=>{function t(e,t,r,o){for(var i=[[e,!1]];i.length>0;){var s=i.pop();s[1]?o.push(s[0]):Object.hasOwn(r,s[0])||(r[s[0]]=!0,i.push([s[0],!0]),n(t(s[0]),(e=>i.push([e,!1]))))}}function r(e,t,r,o){for(var i=[e];i.length>0;){var s=i.pop();Object.hasOwn(r,s)||(r[s]=!0,o.push(s),n(t(s),(e=>i.push(e))))}}function n(e,t){for(var r=e.length;r--;)t(e[r],r,e);return e}e.exports=function(e,n,o){Array.isArray(n)||(n=[n]);var i=e.isDirected()?t=>e.successors(t):t=>e.neighbors(t),s="post"===o?t:r,a=[],d={};return n.forEach((t=>{if(!e.hasNode(t))throw new Error("Graph does not have node: "+t);s(t,i,d,a)})),a}},3651:(e,t,r)=>{var n=r(4237);e.exports=function(e,t,r){return e.nodes().reduce((function(o,i){return o[i]=n(e,i,t,r),o}),{})}},4237:(e,t,r)=>{var n=r(1997);e.exports=function(e,t,r,i){return function(e,t,r,o){var i,s,a={},d=new n,h=function(e){var t=e.v!==i?e.v:e.w,n=a[t],o=r(e),h=s.distance+o;if(o<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+e+" Weight: "+o);h<n.distance&&(n.distance=h,n.predecessor=i,d.decrease(t,h))};for(e.nodes().forEach((function(e){var r=e===t?0:Number.POSITIVE_INFINITY;a[e]={distance:r},d.add(e,r)}));d.size()>0&&(i=d.removeMin(),(s=a[i]).distance!==Number.POSITIVE_INFINITY);)o(i).forEach(h);return a}(e,String(t),r||o,i||function(t){return e.outEdges(t)})};var o=()=>1},402:(e,t,r)=>{var n=r(3911);e.exports=function(e){return n(e).filter((function(t){return t.length>1||1===t.length&&e.hasEdge(t[0],t[0])}))}},3242:e=>{e.exports=function(e,r,n){return function(e,t,r){var n={},o=e.nodes();return o.forEach((function(e){n[e]={},n[e][e]={distance:0},o.forEach((function(t){e!==t&&(n[e][t]={distance:Number.POSITIVE_INFINITY})})),r(e).forEach((function(r){var o=r.v===e?r.w:r.v,i=t(r);n[e][o]={distance:i,predecessor:e}}))})),o.forEach((function(e){var t=n[e];o.forEach((function(r){var i=n[r];o.forEach((function(r){var n=i[e],o=t[r],s=i[r],a=n.distance+o.distance;a<s.distance&&(s.distance=a,s.predecessor=o.predecessor)}))}))})),n}(e,r||t,n||function(t){return e.outEdges(t)})};var t=()=>1},6311:(e,t,r)=>{e.exports={components:r(2335),dijkstra:r(4237),dijkstraAll:r(3651),findCycles:r(402),floydWarshall:r(3242),isAcyclic:r(1158),postorder:r(9289),preorder:r(1924),prim:r(9763),tarjan:r(3911),topsort:r(1964)}},1158:(e,t,r)=>{var n=r(1964);e.exports=function(e){try{n(e)}catch(e){if(e instanceof n.CycleException)return!1;throw e}return!0}},9289:(e,t,r)=>{var n=r(6248);e.exports=function(e,t){return n(e,t,"post")}},1924:(e,t,r)=>{var n=r(6248);e.exports=function(e,t){return n(e,t,"pre")}},9763:(e,t,r)=>{var n=r(8114),o=r(1997);e.exports=function(e,t){var r,i=new n,s={},a=new o;function d(e){var n=e.v===r?e.w:e.v,o=a.priority(n);if(void 0!==o){var i=t(e);i<o&&(s[n]=r,a.decrease(n,i))}}if(0===e.nodeCount())return i;e.nodes().forEach((function(e){a.add(e,Number.POSITIVE_INFINITY),i.setNode(e)})),a.decrease(e.nodes()[0],0);for(var h=!1;a.size()>0;){if(r=a.removeMin(),Object.hasOwn(s,r))i.setEdge(r,s[r]);else{if(h)throw new Error("Input graph is not connected: "+e);h=!0}e.nodeEdges(r).forEach(d)}return i}},3911:e=>{e.exports=function(e){var t=0,r=[],n={},o=[];function i(s){var a=n[s]={onStack:!0,lowlink:t,index:t++};if(r.push(s),e.successors(s).forEach((function(e){Object.hasOwn(n,e)?n[e].onStack&&(a.lowlink=Math.min(a.lowlink,n[e].index)):(i(e),a.lowlink=Math.min(a.lowlink,n[e].lowlink))})),a.lowlink===a.index){var d,h=[];do{d=r.pop(),n[d].onStack=!1,h.push(d)}while(s!==d);o.push(h)}}return e.nodes().forEach((function(e){Object.hasOwn(n,e)||i(e)})),o}},1964:e=>{function t(e){var t={},n={},o=[];if(e.sinks().forEach((function i(s){if(Object.hasOwn(n,s))throw new r;Object.hasOwn(t,s)||(n[s]=!0,t[s]=!0,e.predecessors(s).forEach(i),delete n[s],o.push(s))})),Object.keys(t).length!==e.nodeCount())throw new r;return o}class r extends Error{constructor(){super(...arguments)}}e.exports=t,t.CycleException=r},1997:e=>{e.exports=class{_arr=[];_keyIndices={};size(){return this._arr.length}keys(){return this._arr.map((function(e){return e.key}))}has(e){return Object.hasOwn(this._keyIndices,e)}priority(e){var t=this._keyIndices[e];if(void 0!==t)return this._arr[t].priority}min(){if(0===this.size())throw new Error("Queue underflow");return this._arr[0].key}add(e,t){var r=this._keyIndices;if(e=String(e),!Object.hasOwn(r,e)){var n=this._arr,o=n.length;return r[e]=o,n.push({key:e,priority:t}),this._decrease(o),!0}return!1}removeMin(){this._swap(0,this._arr.length-1);var e=this._arr.pop();return delete this._keyIndices[e.key],this._heapify(0),e.key}decrease(e,t){var r=this._keyIndices[e];if(t>this._arr[r].priority)throw new Error("New priority is greater than current priority. Key: "+e+" Old: "+this._arr[r].priority+" New: "+t);this._arr[r].priority=t,this._decrease(r)}_heapify(e){var t=this._arr,r=2*e,n=r+1,o=e;r<t.length&&(o=t[r].priority<t[o].priority?r:o,n<t.length&&(o=t[n].priority<t[o].priority?n:o),o!==e&&(this._swap(e,o),this._heapify(o)))}_decrease(e){for(var t,r=this._arr,n=r[e].priority;0!==e&&!(r[t=e>>1].priority<n);)this._swap(e,t),e=t}_swap(e,t){var r=this._arr,n=this._keyIndices,o=r[e],i=r[t];r[e]=i,r[t]=o,n[i.key]=e,n[o.key]=t}}},8114:e=>{"use strict";var t="\0",r="\0",n="";function o(e,t){e[t]?e[t]++:e[t]=1}function i(e,t){--e[t]||delete e[t]}function s(e,r,o,i){var s=""+r,a=""+o;if(!e&&s>a){var d=s;s=a,a=d}return s+n+a+n+(void 0===i?t:i)}function a(e,t){return s(e,t.v,t.w,t.name)}e.exports=class{_isDirected=!0;_isMultigraph=!1;_isCompound=!1;_label;_defaultNodeLabelFn=()=>{};_defaultEdgeLabelFn=()=>{};_nodes={};_in={};_preds={};_out={};_sucs={};_edgeObjs={};_edgeLabels={};_nodeCount=0;_edgeCount=0;_parent;_children;constructor(e){e&&(this._isDirected=!Object.hasOwn(e,"directed")||e.directed,this._isMultigraph=!!Object.hasOwn(e,"multigraph")&&e.multigraph,this._isCompound=!!Object.hasOwn(e,"compound")&&e.compound),this._isCompound&&(this._parent={},this._children={},this._children[r]={})}isDirected(){return this._isDirected}isMultigraph(){return this._isMultigraph}isCompound(){return this._isCompound}setGraph(e){return this._label=e,this}graph(){return this._label}setDefaultNodeLabel(e){return this._defaultNodeLabelFn=e,"function"!=typeof e&&(this._defaultNodeLabelFn=()=>e),this}nodeCount(){return this._nodeCount}nodes(){return Object.keys(this._nodes)}sources(){var e=this;return this.nodes().filter((t=>0===Object.keys(e._in[t]).length))}sinks(){var e=this;return this.nodes().filter((t=>0===Object.keys(e._out[t]).length))}setNodes(e,t){var r=arguments,n=this;return e.forEach((function(e){r.length>1?n.setNode(e,t):n.setNode(e)})),this}setNode(e,t){return Object.hasOwn(this._nodes,e)?(arguments.length>1&&(this._nodes[e]=t),this):(this._nodes[e]=arguments.length>1?t:this._defaultNodeLabelFn(e),this._isCompound&&(this._parent[e]=r,this._children[e]={},this._children[r][e]=!0),this._in[e]={},this._preds[e]={},this._out[e]={},this._sucs[e]={},++this._nodeCount,this)}node(e){return this._nodes[e]}hasNode(e){return Object.hasOwn(this._nodes,e)}removeNode(e){var t=this;if(Object.hasOwn(this._nodes,e)){var r=e=>t.removeEdge(t._edgeObjs[e]);delete this._nodes[e],this._isCompound&&(this._removeFromParentsChildList(e),delete this._parent[e],this.children(e).forEach((function(e){t.setParent(e)})),delete this._children[e]),Object.keys(this._in[e]).forEach(r),delete this._in[e],delete this._preds[e],Object.keys(this._out[e]).forEach(r),delete this._out[e],delete this._sucs[e],--this._nodeCount}return this}setParent(e,t){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(void 0===t)t=r;else{for(var n=t+="";void 0!==n;n=this.parent(n))if(n===e)throw new Error("Setting "+t+" as parent of "+e+" would create a cycle");this.setNode(t)}return this.setNode(e),this._removeFromParentsChildList(e),this._parent[e]=t,this._children[t][e]=!0,this}_removeFromParentsChildList(e){delete this._children[this._parent[e]][e]}parent(e){if(this._isCompound){var t=this._parent[e];if(t!==r)return t}}children(e=r){if(this._isCompound){var t=this._children[e];if(t)return Object.keys(t)}else{if(e===r)return this.nodes();if(this.hasNode(e))return[]}}predecessors(e){var t=this._preds[e];if(t)return Object.keys(t)}successors(e){var t=this._sucs[e];if(t)return Object.keys(t)}neighbors(e){var t=this.predecessors(e);if(t){const n=new Set(t);for(var r of this.successors(e))n.add(r);return Array.from(n.values())}}isLeaf(e){return 0===(this.isDirected()?this.successors(e):this.neighbors(e)).length}filterNodes(e){var t=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});t.setGraph(this.graph());var r=this;Object.entries(this._nodes).forEach((function([r,n]){e(r)&&t.setNode(r,n)})),Object.values(this._edgeObjs).forEach((function(e){t.hasNode(e.v)&&t.hasNode(e.w)&&t.setEdge(e,r.edge(e))}));var n={};function o(e){var i=r.parent(e);return void 0===i||t.hasNode(i)?(n[e]=i,i):i in n?n[i]:o(i)}return this._isCompound&&t.nodes().forEach((e=>t.setParent(e,o(e)))),t}setDefaultEdgeLabel(e){return this._defaultEdgeLabelFn=e,"function"!=typeof e&&(this._defaultEdgeLabelFn=()=>e),this}edgeCount(){return this._edgeCount}edges(){return Object.values(this._edgeObjs)}setPath(e,t){var r=this,n=arguments;return e.reduce((function(e,o){return n.length>1?r.setEdge(e,o,t):r.setEdge(e,o),o})),this}setEdge(){var e,t,r,n,i=!1,a=arguments[0];"object"==typeof a&&null!==a&&"v"in a?(e=a.v,t=a.w,r=a.name,2===arguments.length&&(n=arguments[1],i=!0)):(e=a,t=arguments[1],r=arguments[3],arguments.length>2&&(n=arguments[2],i=!0)),e=""+e,t=""+t,void 0!==r&&(r=""+r);var d=s(this._isDirected,e,t,r);if(Object.hasOwn(this._edgeLabels,d))return i&&(this._edgeLabels[d]=n),this;if(void 0!==r&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(e),this.setNode(t),this._edgeLabels[d]=i?n:this._defaultEdgeLabelFn(e,t,r);var h=function(e,t,r,n){var o=""+t,i=""+r;if(!e&&o>i){var s=o;o=i,i=s}var a={v:o,w:i};return n&&(a.name=n),a}(this._isDirected,e,t,r);return e=h.v,t=h.w,Object.freeze(h),this._edgeObjs[d]=h,o(this._preds[t],e),o(this._sucs[e],t),this._in[t][d]=h,this._out[e][d]=h,this._edgeCount++,this}edge(e,t,r){var n=1===arguments.length?a(this._isDirected,arguments[0]):s(this._isDirected,e,t,r);return this._edgeLabels[n]}edgeAsObj(){const e=this.edge(...arguments);return"object"!=typeof e?{label:e}:e}hasEdge(e,t,r){var n=1===arguments.length?a(this._isDirected,arguments[0]):s(this._isDirected,e,t,r);return Object.hasOwn(this._edgeLabels,n)}removeEdge(e,t,r){var n=1===arguments.length?a(this._isDirected,arguments[0]):s(this._isDirected,e,t,r),o=this._edgeObjs[n];return o&&(e=o.v,t=o.w,delete this._edgeLabels[n],delete this._edgeObjs[n],i(this._preds[t],e),i(this._sucs[e],t),delete this._in[t][n],delete this._out[e][n],this._edgeCount--),this}inEdges(e,t){var r=this._in[e];if(r){var n=Object.values(r);return t?n.filter((e=>e.v===t)):n}}outEdges(e,t){var r=this._out[e];if(r){var n=Object.values(r);return t?n.filter((e=>e.w===t)):n}}nodeEdges(e,t){var r=this.inEdges(e,t);if(r)return r.concat(this.outEdges(e,t))}}},2314:(e,t,r)=>{e.exports={Graph:r(8114),version:r(1166)}},2258:(e,t,r)=>{var n=r(8114);function o(e){return e.nodes().map((function(t){var r=e.node(t),n=e.parent(t),o={v:t};return void 0!==r&&(o.value=r),void 0!==n&&(o.parent=n),o}))}function i(e){return e.edges().map((function(t){var r=e.edge(t),n={v:t.v,w:t.w};return void 0!==t.name&&(n.name=t.name),void 0!==r&&(n.value=r),n}))}e.exports={write:function(e){var t={options:{directed:e.isDirected(),multigraph:e.isMultigraph(),compound:e.isCompound()},nodes:o(e),edges:i(e)};return void 0!==e.graph()&&(t.value=structuredClone(e.graph())),t},read:function(e){var t=new n(e.options).setGraph(e.value);return e.nodes.forEach((function(e){t.setNode(e.v,e.value),e.parent&&t.setParent(e.v,e.parent)})),e.edges.forEach((function(e){t.setEdge({v:e.v,w:e.w,name:e.name},e.value)})),t}}},1166:e=>{e.exports="2.2.4"}}]);