[tool.poetry]
name = "fastapi_jwks"
version = "0.0.2"
description = ""
license = "MIT"
authors = ["bakdata"]
readme = "README.md"

# TODO
# repository = ""
# documentation = ""
# keywords = []
# classifiers = []

# [tool.poetry.scripts]
# start = "main:start"
[tool.poetry.dependencies]
python = "^3.10"
pydantic = "^2.7.1"
fastapi = { extras = ["standard"], version = "^0.112.1" }
pyjwt = { extras = ["crypto"], version = "^2.8.0" }
loguru = "^0.7.2"
cachetools = "^5.3.3"
types-cachetools = "^5.3.0.7"
cryptography = "^42.0.7"
requests = "^2.31.0"

[tool.poetry.group.dev.dependencies]
pre-commit = "^3.7.0"
ruff = "^0.3.4"
pyright = "^1.1.355"
pytest = "^8.1.1"
pytest-asyncio = "^0.23.6"
pytest-mock = "^3.14.0"
pytest-clarity = "^1.0.1"
pytest-cov = "^5.0.0"

[tool.ruff]
output-format = "grouped"
show-fixes = true
target-version = "py310"

[tool.ruff.lint]
# For a list of all possible rules visit https://docs.astral.sh/ruff/rules/
select = [
  "F", # Pyflakes
  "E", # pycodestyle Errors
  "W", # pycodestyle Warnings
  "C90", # mccabe
  "I", # isort
  "UP", # pyupgrade
  "B", # flake8-bugbear
  "RUF", # Ruff-specific rules
]
ignore = [
  # Rules in conflict with `ruff-format` -- START
  "W191", # Checks for indentation that uses tabs. Spaces are preferred.
  # "E111", # Checks for indentation with a non-multiple of 4 spaces, add when out of nursery
  # "E114", # Checks for indentation of comments with a non-multiple of 4 spaces, add when out of nursery
  # "E117", # Checks for over-indented code, add when out of nursery
  "E501", # Line too long
  # Rules in conflict with `ruff-format` -- END
  "RUF012", # type class attrs with `ClassVar` -- Too strict/trigger-happy
]

[tool.pytest.ini_options]
testpaths = "tests"
addopts = "--cov={fastapi_jwks} --cov-report term-missing"

[build-system]
requires = ["poetry-core>=1.0.0"]
build-backend = "poetry.core.masonry.api"
