(self["webpackChunk_jupyterlab_application_top"]=self["webpackChunk_jupyterlab_application_top"]||[]).push([[7421,5606],{27421:(t,e,s)=>{"use strict";s.d(e,{Aj:()=>R,Lu:()=>g,U1:()=>z,uC:()=>k});var i=s(66575);var r=s.n(i);var h=s(65606);class n{constructor(t,e,s,i,r,h,n,o,a,l=0,f){this.p=t;this.stack=e;this.state=s;this.reducePos=i;this.pos=r;this.score=h;this.buffer=n;this.bufferBase=o;this.curContext=a;this.lookAhead=l;this.parent=f}toString(){return`[${this.stack.filter(((t,e)=>e%3==0)).concat(this.state)}]@${this.pos}${this.score?"!"+this.score:""}`}static start(t,e,s=0){let i=t.parser.context;return new n(t,[],e,s,s,0,[],0,i?new o(i,i.start):null,0,null)}get context(){return this.curContext?this.curContext.context:null}pushState(t,e){this.stack.push(this.state,e,this.bufferBase+this.buffer.length);this.state=t}reduce(t){var e;let s=t>>19,i=t&65535;let{parser:r}=this.p;let h=this.reducePos<this.pos-25;if(h)this.setLookAhead(this.pos);let n=r.dynamicPrecedence(i);if(n)this.score+=n;if(s==0){this.pushState(r.getGoto(this.state,i,true),this.reducePos);if(i<r.minRepeatTerm)this.storeNode(i,this.reducePos,this.reducePos,h?8:4,true);this.reduceContext(i,this.reducePos);return}let o=this.stack.length-(s-1)*3-(t&262144?6:0);let a=o?this.stack[o-2]:this.p.ranges[0].from,l=this.reducePos-a;if(l>=2e3&&!((e=this.p.parser.nodeSet.types[i])===null||e===void 0?void 0:e.isAnonymous)){if(a==this.p.lastBigReductionStart){this.p.bigReductionCount++;this.p.lastBigReductionSize=l}else if(this.p.lastBigReductionSize<l){this.p.bigReductionCount=1;this.p.lastBigReductionStart=a;this.p.lastBigReductionSize=l}}let f=o?this.stack[o-1]:0,u=this.bufferBase+this.buffer.length-f;if(i<r.minRepeatTerm||t&131072){let t=r.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(i,a,t,u+4,true)}if(t&262144){this.state=this.stack[o]}else{let t=this.stack[o-3];this.state=r.getGoto(t,i,true)}while(this.stack.length>o)this.stack.pop();this.reduceContext(i,a)}storeNode(t,e,s,i=4,r=false){if(t==0&&(!this.stack.length||this.stack[this.stack.length-1]<this.buffer.length+this.bufferBase)){let t=this,i=this.buffer.length;if(i==0&&t.parent){i=t.bufferBase-t.parent.bufferBase;t=t.parent}if(i>0&&t.buffer[i-4]==0&&t.buffer[i-1]>-1){if(e==s)return;if(t.buffer[i-2]>=e){t.buffer[i-2]=s;return}}}if(!r||this.pos==s){this.buffer.push(t,e,s,i)}else{let r=this.buffer.length;if(r>0&&this.buffer[r-4]!=0){let t=false;for(let e=r;e>0&&this.buffer[e-2]>s;e-=4){if(this.buffer[e-1]>=0){t=true;break}}if(t)while(r>0&&this.buffer[r-2]>s){this.buffer[r]=this.buffer[r-4];this.buffer[r+1]=this.buffer[r-3];this.buffer[r+2]=this.buffer[r-2];this.buffer[r+3]=this.buffer[r-1];r-=4;if(i>4)i-=4}}this.buffer[r]=t;this.buffer[r+1]=e;this.buffer[r+2]=s;this.buffer[r+3]=i}}shift(t,e,s,i){if(t&131072){this.pushState(t&65535,this.pos)}else if((t&262144)==0){let r=t,{parser:h}=this.p;if(i>this.pos||e<=h.maxNode){this.pos=i;if(!h.stateFlag(r,1))this.reducePos=i}this.pushState(r,s);this.shiftContext(e,s);if(e<=h.maxNode)this.buffer.push(e,s,i,4)}else{this.pos=i;this.shiftContext(e,s);if(e<=this.p.parser.maxNode)this.buffer.push(e,s,i,4)}}apply(t,e,s,i){if(t&65536)this.reduce(t);else this.shift(t,e,s,i)}useNode(t,e){let s=this.p.reused.length-1;if(s<0||this.p.reused[s]!=t){this.p.reused.push(t);s++}let i=this.pos;this.reducePos=this.pos=i+t.length;this.pushState(e,i);this.buffer.push(s,i,this.reducePos,-1);if(this.curContext)this.updateContext(this.curContext.tracker.reuse(this.curContext.context,t,this,this.p.stream.reset(this.pos-t.length)))}split(){let t=this;let e=t.buffer.length;while(e>0&&t.buffer[e-2]>t.reducePos)e-=4;let s=t.buffer.slice(e),i=t.bufferBase+e;while(t&&i==t.bufferBase)t=t.parent;return new n(this.p,this.stack.slice(),this.state,this.reducePos,this.pos,this.score,s,i,this.curContext,this.lookAhead,t)}recoverByDelete(t,e){let s=t<=this.p.parser.maxNode;if(s)this.storeNode(t,this.pos,e,4);this.storeNode(0,this.pos,e,s?8:4);this.pos=this.reducePos=e;this.score-=190}canShift(t){for(let e=new a(this);;){let s=this.p.parser.stateSlot(e.state,4)||this.p.parser.hasAction(e.state,t);if(s==0)return false;if((s&65536)==0)return true;e.reduce(s)}}recoverByInsert(t){if(this.stack.length>=300)return[];let e=this.p.parser.nextStates(this.state);if(e.length>4<<1||this.stack.length>=120){let s=[];for(let i=0,r;i<e.length;i+=2){if((r=e[i+1])!=this.state&&this.p.parser.hasAction(r,t))s.push(e[i],r)}if(this.stack.length<120)for(let t=0;s.length<4<<1&&t<e.length;t+=2){let i=e[t+1];if(!s.some(((t,e)=>e&1&&t==i)))s.push(e[t],i)}e=s}let s=[];for(let i=0;i<e.length&&s.length<4;i+=2){let t=e[i+1];if(t==this.state)continue;let r=this.split();r.pushState(t,this.pos);r.storeNode(0,r.pos,r.pos,4,true);r.shiftContext(e[i],this.pos);r.reducePos=this.pos;r.score-=200;s.push(r)}return s}forceReduce(){let{parser:t}=this.p;let e=t.stateSlot(this.state,5);if((e&65536)==0)return false;if(!t.validAction(this.state,e)){let s=e>>19,i=e&65535;let r=this.stack.length-s*3;if(r<0||t.getGoto(this.stack[r],i,false)<0){let t=this.findForcedReduction();if(t==null)return false;e=t}this.storeNode(0,this.pos,this.pos,4,true);this.score-=100}this.reducePos=this.pos;this.reduce(e);return true}findForcedReduction(){let{parser:t}=this.p,e=[];let s=(i,r)=>{if(e.includes(i))return;e.push(i);return t.allActions(i,(e=>{if(e&(262144|131072));else if(e&65536){let s=(e>>19)-r;if(s>1){let i=e&65535,r=this.stack.length-s*3;if(r>=0&&t.getGoto(this.stack[r],i,false)>=0)return s<<19|65536|i}}else{let t=s(e,r+1);if(t!=null)return t}}))};return s(this.state,0)}forceAll(){while(!this.p.parser.stateFlag(this.state,2)){if(!this.forceReduce()){this.storeNode(0,this.pos,this.pos,4,true);break}}return this}get deadEnd(){if(this.stack.length!=3)return false;let{parser:t}=this.p;return t.data[t.stateSlot(this.state,1)]==65535&&!t.stateSlot(this.state,4)}restart(){this.storeNode(0,this.pos,this.pos,4,true);this.state=this.stack[0];this.stack.length=0}sameState(t){if(this.state!=t.state||this.stack.length!=t.stack.length)return false;for(let e=0;e<this.stack.length;e+=3)if(this.stack[e]!=t.stack[e])return false;return true}get parser(){return this.p.parser}dialectEnabled(t){return this.p.parser.dialect.flags[t]}shiftContext(t,e){if(this.curContext)this.updateContext(this.curContext.tracker.shift(this.curContext.context,t,this,this.p.stream.reset(e)))}reduceContext(t,e){if(this.curContext)this.updateContext(this.curContext.tracker.reduce(this.curContext.context,t,this,this.p.stream.reset(e)))}emitContext(){let t=this.buffer.length-1;if(t<0||this.buffer[t]!=-3)this.buffer.push(this.curContext.hash,this.pos,this.pos,-3)}emitLookAhead(){let t=this.buffer.length-1;if(t<0||this.buffer[t]!=-4)this.buffer.push(this.lookAhead,this.pos,this.pos,-4)}updateContext(t){if(t!=this.curContext.context){let e=new o(this.curContext.tracker,t);if(e.hash!=this.curContext.hash)this.emitContext();this.curContext=e}}setLookAhead(t){if(t>this.lookAhead){this.emitLookAhead();this.lookAhead=t}}close(){if(this.curContext&&this.curContext.tracker.strict)this.emitContext();if(this.lookAhead>0)this.emitLookAhead()}}class o{constructor(t,e){this.tracker=t;this.context=e;this.hash=t.strict?t.hash(e):0}}class a{constructor(t){this.start=t;this.state=t.state;this.stack=t.stack;this.base=this.stack.length}reduce(t){let e=t&65535,s=t>>19;if(s==0){if(this.stack==this.start.stack)this.stack=this.stack.slice();this.stack.push(this.state,0,0);this.base+=3}else{this.base-=(s-1)*3}let i=this.start.p.parser.getGoto(this.stack[this.base-3],e,true);this.state=i}}class l{constructor(t,e,s){this.stack=t;this.pos=e;this.index=s;this.buffer=t.buffer;if(this.index==0)this.maybeNext()}static create(t,e=t.bufferBase+t.buffer.length){return new l(t,e,e-t.bufferBase)}maybeNext(){let t=this.stack.parent;if(t!=null){this.index=this.stack.bufferBase-t.bufferBase;this.stack=t;this.buffer=t.buffer}}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}next(){this.index-=4;this.pos-=4;if(this.index==0)this.maybeNext()}fork(){return new l(this.stack,this.pos,this.index)}}function f(t,e=Uint16Array){if(typeof t!="string")return t;let s=null;for(let i=0,r=0;i<t.length;){let h=0;for(;;){let e=t.charCodeAt(i++),s=false;if(e==126){h=65535;break}if(e>=92)e--;if(e>=34)e--;let r=e-32;if(r>=46){r-=46;s=true}h+=r;if(s)break;h*=46}if(s)s[r++]=h;else s=new e(h)}return s}class u{constructor(){this.start=-1;this.value=-1;this.end=-1;this.extended=-1;this.lookAhead=0;this.mask=0;this.context=0}}const c=new u;class p{constructor(t,e){this.input=t;this.ranges=e;this.chunk="";this.chunkOff=0;this.chunk2="";this.chunk2Pos=0;this.next=-1;this.token=c;this.rangeIndex=0;this.pos=this.chunkPos=e[0].from;this.range=e[0];this.end=e[e.length-1].to;this.readNext()}resolveOffset(t,e){let s=this.range,i=this.rangeIndex;let r=this.pos+t;while(r<s.from){if(!i)return null;let t=this.ranges[--i];r-=s.from-t.to;s=t}while(e<0?r>s.to:r>=s.to){if(i==this.ranges.length-1)return null;let t=this.ranges[++i];r+=t.from-s.to;s=t}return r}clipPos(t){if(t>=this.range.from&&t<this.range.to)return t;for(let e of this.ranges)if(e.to>t)return Math.max(t,e.from);return this.end}peek(t){let e=this.chunkOff+t,s,i;if(e>=0&&e<this.chunk.length){s=this.pos+t;i=this.chunk.charCodeAt(e)}else{let e=this.resolveOffset(t,1);if(e==null)return-1;s=e;if(s>=this.chunk2Pos&&s<this.chunk2Pos+this.chunk2.length){i=this.chunk2.charCodeAt(s-this.chunk2Pos)}else{let t=this.rangeIndex,e=this.range;while(e.to<=s)e=this.ranges[++t];this.chunk2=this.input.chunk(this.chunk2Pos=s);if(s+this.chunk2.length>e.to)this.chunk2=this.chunk2.slice(0,e.to-s);i=this.chunk2.charCodeAt(0)}}if(s>=this.token.lookAhead)this.token.lookAhead=s+1;return i}acceptToken(t,e=0){let s=e?this.resolveOffset(e,-1):this.pos;if(s==null||s<this.token.start)throw new RangeError("Token end out of bounds");this.token.value=t;this.token.end=s}acceptTokenTo(t,e){this.token.value=t;this.token.end=e}getChunk(){if(this.pos>=this.chunk2Pos&&this.pos<this.chunk2Pos+this.chunk2.length){let{chunk:t,chunkPos:e}=this;this.chunk=this.chunk2;this.chunkPos=this.chunk2Pos;this.chunk2=t;this.chunk2Pos=e;this.chunkOff=this.pos-this.chunkPos}else{this.chunk2=this.chunk;this.chunk2Pos=this.chunkPos;let t=this.input.chunk(this.pos);let e=this.pos+t.length;this.chunk=e>this.range.to?t.slice(0,this.range.to-this.pos):t;this.chunkPos=this.pos;this.chunkOff=0}}readNext(){if(this.chunkOff>=this.chunk.length){this.getChunk();if(this.chunkOff==this.chunk.length)return this.next=-1}return this.next=this.chunk.charCodeAt(this.chunkOff)}advance(t=1){this.chunkOff+=t;while(this.pos+t>=this.range.to){if(this.rangeIndex==this.ranges.length-1)return this.setDone();t-=this.range.to-this.pos;this.range=this.ranges[++this.rangeIndex];this.pos=this.range.from}this.pos+=t;if(this.pos>=this.token.lookAhead)this.token.lookAhead=this.pos+1;return this.readNext()}setDone(){this.pos=this.chunkPos=this.end;this.range=this.ranges[this.rangeIndex=this.ranges.length-1];this.chunk="";return this.next=-1}reset(t,e){if(e){this.token=e;e.start=t;e.lookAhead=t+1;e.value=e.extended=-1}else{this.token=c}if(this.pos!=t){this.pos=t;if(t==this.end){this.setDone();return this}while(t<this.range.from)this.range=this.ranges[--this.rangeIndex];while(t>=this.range.to)this.range=this.ranges[++this.rangeIndex];if(t>=this.chunkPos&&t<this.chunkPos+this.chunk.length){this.chunkOff=t-this.chunkPos}else{this.chunk="";this.chunkOff=0}this.readNext()}return this}read(t,e){if(t>=this.chunkPos&&e<=this.chunkPos+this.chunk.length)return this.chunk.slice(t-this.chunkPos,e-this.chunkPos);if(t>=this.chunk2Pos&&e<=this.chunk2Pos+this.chunk2.length)return this.chunk2.slice(t-this.chunk2Pos,e-this.chunk2Pos);if(t>=this.range.from&&e<=this.range.to)return this.input.read(t,e);let s="";for(let i of this.ranges){if(i.from>=e)break;if(i.to>t)s+=this.input.read(Math.max(i.from,t),Math.min(i.to,e))}return s}}class d{constructor(t,e){this.data=t;this.id=e}token(t,e){let{parser:s}=e.p;m(this.data,t,e,this.id,s.data,s.tokenPrecTable)}}d.prototype.contextual=d.prototype.fallback=d.prototype.extend=false;class k{constructor(t,e,s){this.precTable=e;this.elseToken=s;this.data=typeof t=="string"?f(t):t}token(t,e){let s=t.pos,i=0;for(;;){let s=t.next<0,r=t.resolveOffset(1,1);m(this.data,t,e,0,this.data,this.precTable);if(t.token.value>-1)break;if(this.elseToken==null)return;if(!s)i++;if(r==null)break;t.reset(r,t.token)}if(i){t.reset(s,t.token);t.acceptToken(this.elseToken,i)}}}k.prototype.contextual=d.prototype.fallback=d.prototype.extend=false;class g{constructor(t,e={}){this.token=t;this.contextual=!!e.contextual;this.fallback=!!e.fallback;this.extend=!!e.extend}}function m(t,e,s,i,r,h){let n=0,o=1<<i,{dialect:a}=s.p.parser;t:for(;;){if((o&t[n])==0)break;let s=t[n+1];for(let u=n+3;u<s;u+=2)if((t[u+1]&o)>0){let s=t[u];if(a.allows(s)&&(e.token.value==-1||e.token.value==s||b(s,e.token.value,r,h))){e.acceptToken(s);break}}let i=e.next,l=0,f=t[n+2];if(e.next<0&&f>l&&t[s+f*3-3]==65535){n=t[s+f*3-1];continue t}for(;l<f;){let r=l+f>>1;let h=s+r+(r<<1);let o=t[h],a=t[h+1]||65536;if(i<o)f=r;else if(i>=a)l=r+1;else{n=t[h+2];e.advance();continue t}}break}}function x(t,e,s){for(let i=e,r;(r=t[i])!=65535;i++)if(r==s)return i-e;return-1}function b(t,e,s,i){let r=x(s,i,e);return r<0||x(s,i,t)<r}const v=typeof h!="undefined"&&h.env&&/\bparse\b/.test(h.env.LOG);let S=null;function w(t,e,s){let r=t.cursor(i.IterMode.IncludeAnonymous);r.moveTo(e);for(;;){if(!(s<0?r.childBefore(e):r.childAfter(e)))for(;;){if((s<0?r.to<e:r.from>e)&&!r.type.isError)return s<0?Math.max(0,Math.min(r.to-1,e-25)):Math.min(t.length,Math.max(r.from+1,e+25));if(s<0?r.prevSibling():r.nextSibling())break;if(!r.parent())return s<0?0:t.length}}}class T{constructor(t,e){this.fragments=t;this.nodeSet=e;this.i=0;this.fragment=null;this.safeFrom=-1;this.safeTo=-1;this.trees=[];this.start=[];this.index=[];this.nextFragment()}nextFragment(){let t=this.fragment=this.i==this.fragments.length?null:this.fragments[this.i++];if(t){this.safeFrom=t.openStart?w(t.tree,t.from+t.offset,1)-t.offset:t.from;this.safeTo=t.openEnd?w(t.tree,t.to+t.offset,-1)-t.offset:t.to;while(this.trees.length){this.trees.pop();this.start.pop();this.index.pop()}this.trees.push(t.tree);this.start.push(-t.offset);this.index.push(0);this.nextStart=this.safeFrom}else{this.nextStart=1e9}}nodeAt(t){if(t<this.nextStart)return null;while(this.fragment&&this.safeTo<=t)this.nextFragment();if(!this.fragment)return null;for(;;){let e=this.trees.length-1;if(e<0){this.nextFragment();return null}let s=this.trees[e],r=this.index[e];if(r==s.children.length){this.trees.pop();this.start.pop();this.index.pop();continue}let h=s.children[r];let n=this.start[e]+s.positions[r];if(n>t){this.nextStart=n;return null}if(h instanceof i.Tree){if(n==t){if(n<this.safeFrom)return null;let t=n+h.length;if(t<=this.safeTo){let e=h.prop(i.NodeProp.lookAhead);if(!e||t+e<this.fragment.to)return h}}this.index[e]++;if(n+h.length>=Math.max(this.safeFrom,t)){this.trees.push(h);this.start.push(n);this.index.push(0)}}else{this.index[e]++;this.nextStart=n+h.length}}}}class P{constructor(t,e){this.stream=e;this.tokens=[];this.mainToken=null;this.actions=[];this.tokens=t.tokenizers.map((t=>new u))}getActions(t){let e=0;let s=null;let{parser:i}=t.p,{tokenizers:r}=i;let h=i.stateSlot(t.state,3);let n=t.curContext?t.curContext.hash:0;let o=0;for(let a=0;a<r.length;a++){if((1<<a&h)==0)continue;let i=r[a],l=this.tokens[a];if(s&&!i.fallback)continue;if(i.contextual||l.start!=t.pos||l.mask!=h||l.context!=n){this.updateCachedToken(l,i,t);l.mask=h;l.context=n}if(l.lookAhead>l.end+25)o=Math.max(l.lookAhead,o);if(l.value!=0){let r=e;if(l.extended>-1)e=this.addActions(t,l.extended,l.end,e);e=this.addActions(t,l.value,l.end,e);if(!i.extend){s=l;if(e>r)break}}}while(this.actions.length>e)this.actions.pop();if(o)t.setLookAhead(o);if(!s&&t.pos==this.stream.end){s=new u;s.value=t.p.parser.eofTerm;s.start=s.end=t.pos;e=this.addActions(t,s.value,s.end,e)}this.mainToken=s;return this.actions}getMainToken(t){if(this.mainToken)return this.mainToken;let e=new u,{pos:s,p:i}=t;e.start=s;e.end=Math.min(s+1,i.stream.end);e.value=s==i.stream.end?i.parser.eofTerm:0;return e}updateCachedToken(t,e,s){let i=this.stream.clipPos(s.pos);e.token(this.stream.reset(i,t),s);if(t.value>-1){let{parser:e}=s.p;for(let i=0;i<e.specialized.length;i++)if(e.specialized[i]==t.value){let r=e.specializers[i](this.stream.read(t.start,t.end),s);if(r>=0&&s.p.parser.dialect.allows(r>>1)){if((r&1)==0)t.value=r>>1;else t.extended=r>>1;break}}}else{t.value=0;t.end=this.stream.clipPos(i+1)}}putAction(t,e,s,i){for(let r=0;r<i;r+=3)if(this.actions[r]==t)return i;this.actions[i++]=t;this.actions[i++]=e;this.actions[i++]=s;return i}addActions(t,e,s,i){let{state:r}=t,{parser:h}=t.p,{data:n}=h;for(let o=0;o<2;o++){for(let t=h.stateSlot(r,o?2:1);;t+=3){if(n[t]==65535){if(n[t+1]==1){t=I(n,t+2)}else{if(i==0&&n[t+1]==2)i=this.putAction(I(n,t+2),e,s,i);break}}if(n[t]==e)i=this.putAction(I(n,t+1),e,s,i)}}return i}}class y{constructor(t,e,s,i){this.parser=t;this.input=e;this.ranges=i;this.recovering=0;this.nextStackID=9812;this.minStackPos=0;this.reused=[];this.stoppedAt=null;this.lastBigReductionStart=-1;this.lastBigReductionSize=0;this.bigReductionCount=0;this.stream=new p(e,i);this.tokens=new P(t,this.stream);this.topTerm=t.top[1];let{from:r}=i[0];this.stacks=[n.start(this,t.top[0],r)];this.fragments=s.length&&this.stream.end-r>t.bufferLength*4?new T(s,t.nodeSet):null}get parsedPos(){return this.minStackPos}advance(){let t=this.stacks,e=this.minStackPos;let s=this.stacks=[];let i,r;if(this.bigReductionCount>300&&t.length==1){let[e]=t;while(e.forceReduce()&&e.stack.length&&e.stack[e.stack.length-2]>=this.lastBigReductionStart){}this.bigReductionCount=this.lastBigReductionSize=0}for(let h=0;h<t.length;h++){let n=t[h];for(;;){this.tokens.mainToken=null;if(n.pos>e){s.push(n)}else if(this.advanceStack(n,s,t)){continue}else{if(!i){i=[];r=[]}i.push(n);let t=this.tokens.getMainToken(n);r.push(t.value,t.end)}break}}if(!s.length){let t=i&&B(i);if(t){if(v)console.log("Finish with "+this.stackID(t));return this.stackToTree(t)}if(this.parser.strict){if(v&&i)console.log("Stuck with token "+(this.tokens.mainToken?this.parser.getName(this.tokens.mainToken.value):"none"));throw new SyntaxError("No parse at "+e)}if(!this.recovering)this.recovering=5}if(this.recovering&&i){let t=this.stoppedAt!=null&&i[0].pos>this.stoppedAt?i[0]:this.runRecovery(i,r,s);if(t){if(v)console.log("Force-finish "+this.stackID(t));return this.stackToTree(t.forceAll())}}if(this.recovering){let t=this.recovering==1?1:this.recovering*3;if(s.length>t){s.sort(((t,e)=>e.score-t.score));while(s.length>t)s.pop()}if(s.some((t=>t.reducePos>e)))this.recovering--}else if(s.length>1){t:for(let t=0;t<s.length-1;t++){let e=s[t];for(let i=t+1;i<s.length;i++){let r=s[i];if(e.sameState(r)||e.buffer.length>500&&r.buffer.length>500){if((e.score-r.score||e.buffer.length-r.buffer.length)>0){s.splice(i--,1)}else{s.splice(t--,1);continue t}}}}if(s.length>12)s.splice(12,s.length-12)}this.minStackPos=s[0].pos;for(let h=1;h<s.length;h++)if(s[h].pos<this.minStackPos)this.minStackPos=s[h].pos;return null}stopAt(t){if(this.stoppedAt!=null&&this.stoppedAt<t)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=t}advanceStack(t,e,s){let r=t.pos,{parser:h}=this;let n=v?this.stackID(t)+" -> ":"";if(this.stoppedAt!=null&&r>this.stoppedAt)return t.forceReduce()?t:null;if(this.fragments){let e=t.curContext&&t.curContext.tracker.strict,s=e?t.curContext.hash:0;for(let o=this.fragments.nodeAt(r);o;){let r=this.parser.nodeSet.types[o.type.id]==o.type?h.getGoto(t.state,o.type.id):-1;if(r>-1&&o.length&&(!e||(o.prop(i.NodeProp.contextHash)||0)==s)){t.useNode(o,r);if(v)console.log(n+this.stackID(t)+` (via reuse of ${h.getName(o.type.id)})`);return true}if(!(o instanceof i.Tree)||o.children.length==0||o.positions[0]>0)break;let a=o.children[0];if(a instanceof i.Tree&&o.positions[0]==0)o=a;else break}}let o=h.stateSlot(t.state,4);if(o>0){t.reduce(o);if(v)console.log(n+this.stackID(t)+` (via always-reduce ${h.getName(o&65535)})`);return true}if(t.stack.length>=8400){while(t.stack.length>6e3&&t.forceReduce()){}}let a=this.tokens.getActions(t);for(let i=0;i<a.length;){let o=a[i++],l=a[i++],f=a[i++];let u=i==a.length||!s;let c=u?t:t.split();let p=this.tokens.mainToken;c.apply(o,l,p?p.start:c.pos,f);if(v)console.log(n+this.stackID(c)+` (via ${(o&65536)==0?"shift":`reduce of ${h.getName(o&65535)}`} for ${h.getName(l)} @ ${r}${c==t?"":", split"})`);if(u)return true;else if(c.pos>r)e.push(c);else s.push(c)}return false}advanceFully(t,e){let s=t.pos;for(;;){if(!this.advanceStack(t,null,null))return false;if(t.pos>s){A(t,e);return true}}}runRecovery(t,e,s){let i=null,r=false;for(let h=0;h<t.length;h++){let n=t[h],o=e[h<<1],a=e[(h<<1)+1];let l=v?this.stackID(n)+" -> ":"";if(n.deadEnd){if(r)continue;r=true;n.restart();if(v)console.log(l+this.stackID(n)+" (restarted)");let t=this.advanceFully(n,s);if(t)continue}let f=n.split(),u=l;for(let t=0;f.forceReduce()&&t<10;t++){if(v)console.log(u+this.stackID(f)+" (via force-reduce)");let t=this.advanceFully(f,s);if(t)break;if(v)u=this.stackID(f)+" -> "}for(let t of n.recoverByInsert(o)){if(v)console.log(l+this.stackID(t)+" (via recover-insert)");this.advanceFully(t,s)}if(this.stream.end>n.pos){if(a==n.pos){a++;o=0}n.recoverByDelete(o,a);if(v)console.log(l+this.stackID(n)+` (via recover-delete ${this.parser.getName(o)})`);A(n,s)}else if(!i||i.score<n.score){i=n}}return i}stackToTree(t){t.close();return i.Tree.build({buffer:l.create(t),nodeSet:this.parser.nodeSet,topID:this.topTerm,maxBufferLength:this.parser.bufferLength,reused:this.reused,start:this.ranges[0].from,length:t.pos-this.ranges[0].from,minRepeatType:this.parser.minRepeatTerm})}stackID(t){let e=(S||(S=new WeakMap)).get(t);if(!e)S.set(t,e=String.fromCodePoint(this.nextStackID++));return e+t}}function A(t,e){for(let s=0;s<e.length;s++){let i=e[s];if(i.pos==t.pos&&i.sameState(t)){if(e[s].score<t.score)e[s]=t;return}}e.push(t)}class C{constructor(t,e,s){this.source=t;this.flags=e;this.disabled=s}allows(t){return!this.disabled||this.disabled[t]==0}}const N=t=>t;class R{constructor(t){this.start=t.start;this.shift=t.shift||N;this.reduce=t.reduce||N;this.reuse=t.reuse||N;this.hash=t.hash||(()=>0);this.strict=t.strict!==false}}class z extends i.Parser{constructor(t){super();this.wrappers=[];if(t.version!=14)throw new RangeError(`Parser version (${t.version}) doesn't match runtime version (${14})`);let e=t.nodeNames.split(" ");this.minRepeatTerm=e.length;for(let i=0;i<t.repeatNodeCount;i++)e.push("");let s=Object.keys(t.topRules).map((e=>t.topRules[e][1]));let r=[];for(let i=0;i<e.length;i++)r.push([]);function h(t,e,s){r[t].push([e,e.deserialize(String(s))])}if(t.nodeProps)for(let o of t.nodeProps){let t=o[0];if(typeof t=="string")t=i.NodeProp[t];for(let e=1;e<o.length;){let s=o[e++];if(s>=0){h(s,t,o[e++])}else{let i=o[e+-s];for(let r=-s;r>0;r--)h(o[e++],t,i);e++}}}this.nodeSet=new i.NodeSet(e.map(((e,h)=>i.NodeType.define({name:h>=this.minRepeatTerm?undefined:e,id:h,props:r[h],top:s.indexOf(h)>-1,error:h==0,skipped:t.skippedNodes&&t.skippedNodes.indexOf(h)>-1}))));if(t.propSources)this.nodeSet=this.nodeSet.extend(...t.propSources);this.strict=false;this.bufferLength=i.DefaultBufferLength;let n=f(t.tokenData);this.context=t.context;this.specializerSpecs=t.specialized||[];this.specialized=new Uint16Array(this.specializerSpecs.length);for(let i=0;i<this.specializerSpecs.length;i++)this.specialized[i]=this.specializerSpecs[i].term;this.specializers=this.specializerSpecs.map(D);this.states=f(t.states,Uint32Array);this.data=f(t.stateData);this.goto=f(t.goto);this.maxTerm=t.maxTerm;this.tokenizers=t.tokenizers.map((t=>typeof t=="number"?new d(n,t):t));this.topRules=t.topRules;this.dialects=t.dialects||{};this.dynamicPrecedences=t.dynamicPrecedences||null;this.tokenPrecTable=t.tokenPrec;this.termNames=t.termNames||null;this.maxNode=this.nodeSet.types.length-1;this.dialect=this.parseDialect();this.top=this.topRules[Object.keys(this.topRules)[0]]}createParse(t,e,s){let i=new y(this,t,e,s);for(let r of this.wrappers)i=r(i,t,e,s);return i}getGoto(t,e,s=false){let i=this.goto;if(e>=i[0])return-1;for(let r=i[e+1];;){let e=i[r++],h=e&1;let n=i[r++];if(h&&s)return n;for(let s=r+(e>>1);r<s;r++)if(i[r]==t)return n;if(h)return-1}}hasAction(t,e){let s=this.data;for(let i=0;i<2;i++){for(let r=this.stateSlot(t,i?2:1),h;;r+=3){if((h=s[r])==65535){if(s[r+1]==1)h=s[r=I(s,r+2)];else if(s[r+1]==2)return I(s,r+2);else break}if(h==e||h==0)return I(s,r+1)}}return 0}stateSlot(t,e){return this.states[t*6+e]}stateFlag(t,e){return(this.stateSlot(t,0)&e)>0}validAction(t,e){return!!this.allActions(t,(t=>t==e?true:null))}allActions(t,e){let s=this.stateSlot(t,4);let i=s?e(s):undefined;for(let r=this.stateSlot(t,1);i==null;r+=3){if(this.data[r]==65535){if(this.data[r+1]==1)r=I(this.data,r+2);else break}i=e(I(this.data,r+1))}return i}nextStates(t){let e=[];for(let s=this.stateSlot(t,1);;s+=3){if(this.data[s]==65535){if(this.data[s+1]==1)s=I(this.data,s+2);else break}if((this.data[s+2]&65536>>16)==0){let t=this.data[s+1];if(!e.some(((e,s)=>s&1&&e==t)))e.push(this.data[s],t)}}return e}configure(t){let e=Object.assign(Object.create(z.prototype),this);if(t.props)e.nodeSet=this.nodeSet.extend(...t.props);if(t.top){let s=this.topRules[t.top];if(!s)throw new RangeError(`Invalid top rule name ${t.top}`);e.top=s}if(t.tokenizers)e.tokenizers=this.tokenizers.map((e=>{let s=t.tokenizers.find((t=>t.from==e));return s?s.to:e}));if(t.specializers){e.specializers=this.specializers.slice();e.specializerSpecs=this.specializerSpecs.map(((s,i)=>{let r=t.specializers.find((t=>t.from==s.external));if(!r)return s;let h=Object.assign(Object.assign({},s),{external:r.to});e.specializers[i]=D(h);return h}))}if(t.contextTracker)e.context=t.contextTracker;if(t.dialect)e.dialect=this.parseDialect(t.dialect);if(t.strict!=null)e.strict=t.strict;if(t.wrap)e.wrappers=e.wrappers.concat(t.wrap);if(t.bufferLength!=null)e.bufferLength=t.bufferLength;return e}hasWrappers(){return this.wrappers.length>0}getName(t){return this.termNames?this.termNames[t]:String(t<=this.maxNode&&this.nodeSet.types[t].name||t)}get eofTerm(){return this.maxNode+1}get topNode(){return this.nodeSet.types[this.top[1]]}dynamicPrecedence(t){let e=this.dynamicPrecedences;return e==null?0:e[t]||0}parseDialect(t){let e=Object.keys(this.dialects),s=e.map((()=>false));if(t)for(let r of t.split(" ")){let t=e.indexOf(r);if(t>=0)s[t]=true}let i=null;for(let r=0;r<e.length;r++)if(!s[r]){for(let t=this.dialects[e[r]],s;(s=this.data[t++])!=65535;)(i||(i=new Uint8Array(this.maxTerm+1)))[s]=1}return new C(t,s,i)}static deserialize(t){return new z(t)}}function I(t,e){return t[e]|t[e+1]<<16}function B(t){let e=null;for(let s of t){let t=s.p.stoppedAt;if((s.pos==s.p.stream.end||t!=null&&s.pos>t)&&s.p.parser.stateFlag(s.state,2)&&(!e||e.score<s.score))e=s}return e}function D(t){if(t.external){let e=t.extend?1:0;return(s,i)=>t.external(s,i)<<1|e}return t.get}},65606:t=>{var e=t.exports={};var s;var i;function r(){throw new Error("setTimeout has not been defined")}function h(){throw new Error("clearTimeout has not been defined")}(function(){try{if(typeof setTimeout==="function"){s=setTimeout}else{s=r}}catch(t){s=r}try{if(typeof clearTimeout==="function"){i=clearTimeout}else{i=h}}catch(t){i=h}})();function n(t){if(s===setTimeout){return setTimeout(t,0)}if((s===r||!s)&&setTimeout){s=setTimeout;return setTimeout(t,0)}try{return s(t,0)}catch(e){try{return s.call(null,t,0)}catch(e){return s.call(this,t,0)}}}function o(t){if(i===clearTimeout){return clearTimeout(t)}if((i===h||!i)&&clearTimeout){i=clearTimeout;return clearTimeout(t)}try{return i(t)}catch(e){try{return i.call(null,t)}catch(e){return i.call(this,t)}}}var a=[];var l=false;var f;var u=-1;function c(){if(!l||!f){return}l=false;if(f.length){a=f.concat(a)}else{u=-1}if(a.length){p()}}function p(){if(l){return}var t=n(c);l=true;var e=a.length;while(e){f=a;a=[];while(++u<e){if(f){f[u].run()}}u=-1;e=a.length}f=null;l=false;o(t)}e.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1){for(var s=1;s<arguments.length;s++){e[s-1]=arguments[s]}}a.push(new d(t,e));if(a.length===1&&!l){n(p)}};function d(t,e){this.fun=t;this.array=e}d.prototype.run=function(){this.fun.apply(null,this.array)};e.title="browser";e.browser=true;e.env={};e.argv=[];e.version="";e.versions={};function k(){}e.on=k;e.addListener=k;e.once=k;e.off=k;e.removeListener=k;e.removeAllListeners=k;e.emit=k;e.prependListener=k;e.prependOnceListener=k;e.listeners=function(t){return[]};e.binding=function(t){throw new Error("process.binding is not supported")};e.cwd=function(){return"/"};e.chdir=function(t){throw new Error("process.chdir is not supported")};e.umask=function(){return 0}}}]);