FROM --platform=${TARGETPLATFORM:-linux/amd64} python:3.10-slim

ENV PYTHONUNBUFFERED=1
WORKDIR /opt/kelvin/app 
COPY . /opt/kelvin/app
RUN pip install -r requirements.txt
RUN pip install -r model/requirements.txt

ENTRYPOINT ["python", "main.py"]