from typing import Dict, Generic, Optional, TypeVar

from pydbsp.algebra import AbelianGroupOperation
from pydbsp.indexed_zset import IndexedZSet, Indexer, index_zset
from pydbsp.stream import Stream, StreamHandle
from pydbsp.stream_operators import Lifted1
from pydbsp.zset import ZSet
from pydbsp.zset_operators import ZSetAddition

T = TypeVar("T")
I = TypeVar("I")


