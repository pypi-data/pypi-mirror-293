"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[485],{77798:function(e,t,r){r.r(t),r.d(t,{default:function(){return lt}});var n=r(48305),o=r.n(n),s=r(67399),a=r(32382),i=r(68459),c=r(50959),l=r(90228),u=r.n(l),d=r(87999),p=r.n(d),m=r(26068),f=r.n(m),g=r(38441),h=r(64518),x=r(84353),v=r(53745),y=r(15209),k=r(79407),b=r(82187),j=r.n(b),C=r(10569),$=r(18257),w=r(13238),S=r(12027),M=r(51151),P={percent:0,prefixCls:"rc-progress",strokeColor:"#2db7f5",strokeLinecap:"round",strokeWidth:1,trailColor:"#D9D9D9",trailWidth:1,gapPosition:"bottom"},E=function(){var e=(0,c.useRef)([]),t=(0,c.useRef)(null);return(0,c.useEffect)((function(){var r=Date.now(),n=!1;e.current.forEach((function(e){if(e){n=!0;var o=e.style;o.transitionDuration=".3s, .3s, .3s, .06s",t.current&&r-t.current<100&&(o.transitionDuration="0s, 0s")}})),n&&(t.current=Date.now())})),e.current};var Z=r(79087),I=r(17789),O=r(63490),z=0,N=(0,O.Z)();var W=function(e){var t=c.useState(),r=(0,I.Z)(t,2),n=r[0],o=r[1];return c.useEffect((function(){var e;o("rc_progress_".concat((N?(e=z,z+=1):e="TEST_OR_SSR",e)))}),[]),e||n},A=function(e){var t=e.bg,r=e.children;return c.createElement("div",{style:{width:"100%",height:"100%",background:t}},r)};function R(e,t){return Object.keys(e).map((function(r){var n=parseFloat(r),o="".concat(Math.floor(n*t),"%");return"".concat(e[r]," ").concat(o)}))}var D=c.forwardRef((function(e,t){var r=e.prefixCls,n=e.color,o=e.gradientId,s=e.radius,a=e.style,i=e.ptg,l=e.strokeLinecap,u=e.strokeWidth,d=e.size,p=e.gapDegree,m=n&&"object"===(0,Z.Z)(n),f=m?"#FFF":void 0,g=d/2,h=c.createElement("circle",{className:"".concat(r,"-circle-path"),r:s,cx:g,cy:g,stroke:f,strokeLinecap:l,strokeWidth:u,opacity:0===i?0:1,style:a,ref:t});if(!m)return h;var x="".concat(o,"-conic"),v=p?"".concat(180+p/2,"deg"):"0deg",y=R(n,(360-p)/360),k=R(n,1),b="conic-gradient(from ".concat(v,", ").concat(y.join(", "),")"),j="linear-gradient(to ".concat(p?"bottom":"top",", ").concat(k.join(", "),")");return c.createElement(c.Fragment,null,c.createElement("mask",{id:x},h),c.createElement("foreignObject",{x:0,y:0,width:d,height:d,mask:"url(#".concat(x,")")},c.createElement(A,{bg:j},c.createElement(A,{bg:b}))))})),T=100,L=function(e,t,r,n,o,s,a,i,c,l){var u=arguments.length>10&&void 0!==arguments[10]?arguments[10]:0,d=r/100*360*((360-s)/360),p=0===s?0:{bottom:0,top:180,left:90,right:-90}[a],m=(100-n)/100*t;"round"===c&&100!==n&&(m+=l/2)>=t&&(m=t-.01);var f=50;return{stroke:"string"==typeof i?i:void 0,strokeDasharray:"".concat(t,"px ").concat(e),strokeDashoffset:m+u,transform:"rotate(".concat(o+d+p,"deg)"),transformOrigin:"".concat(f,"px ").concat(f,"px"),transition:"stroke-dashoffset .3s ease 0s, stroke-dasharray .3s ease 0s, stroke .3s, stroke-width .06s ease .3s, opacity .3s ease 0s",fillOpacity:0}},_=["id","prefixCls","steps","strokeWidth","trailWidth","gapDegree","gapPosition","trailColor","strokeLinecap","style","className","strokeColor","percent"];function F(e){var t=null!=e?e:[];return Array.isArray(t)?t:[t]}var B=function(e){var t,r,n,o=(0,S.Z)((0,S.Z)({},P),e),s=o.id,a=o.prefixCls,i=o.steps,l=o.strokeWidth,u=o.trailWidth,d=o.gapDegree,p=void 0===d?0:d,m=o.gapPosition,f=o.trailColor,g=o.strokeLinecap,h=o.style,x=o.className,v=o.strokeColor,y=o.percent,k=(0,M.Z)(o,_),b=W(s),C="".concat(b,"-gradient"),$=50-l/2,I=2*Math.PI*$,O=p>0?90+p/2:-90,z=I*((360-p)/360),N="object"===(0,Z.Z)(i)?i:{count:i,gap:2},A=N.count,R=N.gap,B=F(y),X=F(v),U=X.find((function(e){return e&&"object"===(0,Z.Z)(e)})),G=U&&"object"===(0,Z.Z)(U)?"butt":g,K=L(I,z,0,100,O,p,m,f,G,l),q=E();return c.createElement("svg",(0,w.Z)({className:j()("".concat(a,"-circle"),x),viewBox:"0 0 ".concat(T," ").concat(T),style:h,id:s,role:"presentation"},k),!A&&c.createElement("circle",{className:"".concat(a,"-circle-trail"),r:$,cx:50,cy:50,stroke:f,strokeLinecap:G,strokeWidth:u||l,style:K}),A?(t=Math.round(A*(B[0]/100)),r=100/A,n=0,new Array(A).fill(null).map((function(e,o){var s=o<=t-1?X[0]:f,i=s&&"object"===(0,Z.Z)(s)?"url(#".concat(C,")"):void 0,u=L(I,z,n,r,O,p,m,s,"butt",l,R);return n+=100*(z-u.strokeDashoffset+R)/z,c.createElement("circle",{key:o,className:"".concat(a,"-circle-path"),r:$,cx:50,cy:50,stroke:i,strokeWidth:l,opacity:1,style:u,ref:function(e){q[o]=e}})}))):function(){var e=0;return B.map((function(t,r){var n=X[r]||X[X.length-1],o=L(I,z,e,t,O,p,m,n,G,l);return e+=t,c.createElement(D,{key:r,color:n,ptg:t,radius:$,prefixCls:a,gradientId:C,style:o,strokeLinecap:G,strokeWidth:l,gapDegree:p,ref:function(e){q[r]=e},size:T})})).reverse()}())},X=r(22601);function U(e){return!e||e<0?0:e>100?100:e}function G(e){let{success:t,successPercent:r}=e,n=r;return t&&"progress"in t&&(n=t.progress),t&&"percent"in t&&(n=t.percent),n}const K=(e,t,r)=>{var n,o,s,a;let i=-1,c=-1;if("step"===t){const t=r.steps,n=r.strokeWidth;"string"==typeof e||void 0===e?(i="small"===e?2:14,c=null!=n?n:8):"number"==typeof e?[i,c]=[e,e]:[i=14,c=8]=Array.isArray(e)?e:[e.width,e.height],i*=t}else if("line"===t){const t=null==r?void 0:r.strokeWidth;"string"==typeof e||void 0===e?c=t||("small"===e?6:8):"number"==typeof e?[i,c]=[e,e]:[i=-1,c=8]=Array.isArray(e)?e:[e.width,e.height]}else"circle"!==t&&"dashboard"!==t||("string"==typeof e||void 0===e?[i,c]="small"===e?[60,60]:[120,120]:"number"==typeof e?[i,c]=[e,e]:Array.isArray(e)&&(i=null!==(o=null!==(n=e[0])&&void 0!==n?n:e[1])&&void 0!==o?o:120,c=null!==(a=null!==(s=e[0])&&void 0!==s?s:e[1])&&void 0!==a?a:120));return[i,c]};var q=e=>{const{prefixCls:t,trailColor:r=null,strokeLinecap:n="round",gapPosition:o,gapDegree:s,width:a=120,type:i,children:l,success:u,size:d=a,steps:p}=e,[m,f]=K(d,"circle");let{strokeWidth:g}=e;void 0===g&&(g=Math.max((e=>3/e*100)(m),6));const x={width:m,height:f,fontSize:.15*m+6},v=c.useMemo((()=>s||0===s?s:"dashboard"===i?75:void 0),[s,i]),y=(e=>{let{percent:t,success:r,successPercent:n}=e;const o=U(G({success:r,successPercent:n}));return[o,U(U(t)-o)]})(e),k=o||"dashboard"===i&&"bottom"||void 0,b="[object Object]"===Object.prototype.toString.call(e.strokeColor),C=(e=>{let{success:t={},strokeColor:r}=e;const{strokeColor:n}=t;return[n||X.presetPrimaryColors.green,r||null]})({success:u,strokeColor:e.strokeColor}),$=j()(`${t}-inner`,{[`${t}-circle-gradient`]:b}),w=c.createElement(B,{steps:p,percent:p?y[1]:y,strokeWidth:g,trailWidth:g,strokeColor:p?C[1]:C,strokeLinecap:n,trailColor:r,prefixCls:t,gapDegree:v,gapPosition:k}),S=m<=20,M=c.createElement("div",{className:$,style:x},w,!S&&l);return S?c.createElement(h.Z,{title:l},M):M},H=r(24104),V=r(95197),J=r(85566),Q=r(9305);const Y="--progress-line-stroke-color",ee="--progress-percent",te=e=>{const t=e?"100%":"-100%";return new H.E4(`antProgress${e?"RTL":"LTR"}Active`,{"0%":{transform:`translateX(${t}) scaleX(0)`,opacity:.1},"20%":{transform:`translateX(${t}) scaleX(0)`,opacity:.5},to:{transform:"translateX(0) scaleX(1)",opacity:0}})},re=e=>{const{componentCls:t,iconCls:r}=e;return{[t]:Object.assign(Object.assign({},(0,V.Wf)(e)),{display:"inline-block","&-rtl":{direction:"rtl"},"&-line":{position:"relative",width:"100%",fontSize:e.fontSize},[`${t}-outer`]:{display:"inline-flex",alignItems:"center",width:"100%"},[`${t}-inner`]:{position:"relative",display:"inline-block",width:"100%",flex:1,overflow:"hidden",verticalAlign:"middle",backgroundColor:e.remainingColor,borderRadius:e.lineBorderRadius},[`${t}-inner:not(${t}-circle-gradient)`]:{[`${t}-circle-path`]:{stroke:e.defaultColor}},[`${t}-success-bg, ${t}-bg`]:{position:"relative",background:e.defaultColor,borderRadius:e.lineBorderRadius,transition:`all ${e.motionDurationSlow} ${e.motionEaseInOutCirc}`},[`${t}-layout-bottom`]:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",[`${t}-text`]:{width:"max-content",marginInlineStart:0,marginTop:e.marginXXS}},[`${t}-bg`]:{overflow:"hidden","&::after":{content:'""',background:{_multi_value_:!0,value:["inherit",`var(${Y})`]},height:"100%",width:`calc(1 / var(${ee}) * 100%)`,display:"block"},[`&${t}-bg-inner`]:{minWidth:"max-content","&::after":{content:"none"},[`${t}-text-inner`]:{color:e.colorWhite,[`&${t}-text-bright`]:{color:"rgba(0, 0, 0, 0.45)"}}}},[`${t}-success-bg`]:{position:"absolute",insetBlockStart:0,insetInlineStart:0,backgroundColor:e.colorSuccess},[`${t}-text`]:{display:"inline-block",marginInlineStart:e.marginXS,color:e.colorText,lineHeight:1,width:"2em",whiteSpace:"nowrap",textAlign:"start",verticalAlign:"middle",wordBreak:"normal",[r]:{fontSize:e.fontSize},[`&${t}-text-outer`]:{width:"max-content"},[`&${t}-text-outer${t}-text-start`]:{width:"max-content",marginInlineStart:0,marginInlineEnd:e.marginXS}},[`${t}-text-inner`]:{display:"flex",justifyContent:"center",alignItems:"center",width:"100%",height:"100%",marginInlineStart:0,padding:`0 ${(0,H.bf)(e.paddingXXS)}`,[`&${t}-text-start`]:{justifyContent:"start"},[`&${t}-text-end`]:{justifyContent:"end"}},[`&${t}-status-active`]:{[`${t}-bg::before`]:{position:"absolute",inset:0,backgroundColor:e.colorBgContainer,borderRadius:e.lineBorderRadius,opacity:0,animationName:te(),animationDuration:e.progressActiveMotionDuration,animationTimingFunction:e.motionEaseOutQuint,animationIterationCount:"infinite",content:'""'}},[`&${t}-rtl${t}-status-active`]:{[`${t}-bg::before`]:{animationName:te(!0)}},[`&${t}-status-exception`]:{[`${t}-bg`]:{backgroundColor:e.colorError},[`${t}-text`]:{color:e.colorError}},[`&${t}-status-exception ${t}-inner:not(${t}-circle-gradient)`]:{[`${t}-circle-path`]:{stroke:e.colorError}},[`&${t}-status-success`]:{[`${t}-bg`]:{backgroundColor:e.colorSuccess},[`${t}-text`]:{color:e.colorSuccess}},[`&${t}-status-success ${t}-inner:not(${t}-circle-gradient)`]:{[`${t}-circle-path`]:{stroke:e.colorSuccess}}})}},ne=e=>{const{componentCls:t,iconCls:r}=e;return{[t]:{[`${t}-circle-trail`]:{stroke:e.remainingColor},[`&${t}-circle ${t}-inner`]:{position:"relative",lineHeight:1,backgroundColor:"transparent"},[`&${t}-circle ${t}-text`]:{position:"absolute",insetBlockStart:"50%",insetInlineStart:0,width:"100%",margin:0,padding:0,color:e.circleTextColor,fontSize:e.circleTextFontSize,lineHeight:1,whiteSpace:"normal",textAlign:"center",transform:"translateY(-50%)",[r]:{fontSize:e.circleIconFontSize}},[`${t}-circle&-status-exception`]:{[`${t}-text`]:{color:e.colorError}},[`${t}-circle&-status-success`]:{[`${t}-text`]:{color:e.colorSuccess}}},[`${t}-inline-circle`]:{lineHeight:1,[`${t}-inner`]:{verticalAlign:"bottom"}}}},oe=e=>{const{componentCls:t}=e;return{[t]:{[`${t}-steps`]:{display:"inline-block","&-outer":{display:"flex",flexDirection:"row",alignItems:"center"},"&-item":{flexShrink:0,minWidth:e.progressStepMinWidth,marginInlineEnd:e.progressStepMarginInlineEnd,backgroundColor:e.remainingColor,transition:`all ${e.motionDurationSlow}`,"&-active":{backgroundColor:e.defaultColor}}}}}},se=e=>{const{componentCls:t,iconCls:r}=e;return{[t]:{[`${t}-small&-line, ${t}-small&-line ${t}-text ${r}`]:{fontSize:e.fontSizeSM}}}};var ae=(0,J.I$)("Progress",(e=>{const t=e.calc(e.marginXXS).div(2).equal(),r=(0,Q.TS)(e,{progressStepMarginInlineEnd:t,progressStepMinWidth:t,progressActiveMotionDuration:"2.4s"});return[re(r),ne(r),oe(r),se(r)]}),(e=>({circleTextColor:e.colorText,defaultColor:e.colorInfo,remainingColor:e.colorFillSecondary,lineBorderRadius:100,circleTextFontSize:"1em",circleIconFontSize:e.fontSize/e.fontSizeSM+"em"}))),ie=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]])}return r};const ce=(e,t)=>{const{from:r=X.presetPrimaryColors.blue,to:n=X.presetPrimaryColors.blue,direction:o=("rtl"===t?"to left":"to right")}=e,s=ie(e,["from","to","direction"]);if(0!==Object.keys(s).length){const e=`linear-gradient(${o}, ${(e=>{let t=[];return Object.keys(e).forEach((r=>{const n=parseFloat(r.replace(/%/g,""));isNaN(n)||t.push({key:n,value:e[r]})})),t=t.sort(((e,t)=>e.key-t.key)),t.map((e=>{let{key:t,value:r}=e;return`${r} ${t}%`})).join(", ")})(s)})`;return{background:e,[Y]:e}}const a=`linear-gradient(${o}, ${r}, ${n})`;return{background:a,[Y]:a}};var le=e=>{const{prefixCls:t,direction:r,percent:n,size:o,strokeWidth:s,strokeColor:a,strokeLinecap:i="round",children:l,trailColor:u=null,percentPosition:d,success:p}=e,{align:m,type:f}=d,g=a&&"string"!=typeof a?ce(a,r):{[Y]:a,background:a},h="square"===i||"butt"===i?0:void 0,x=null!=o?o:[-1,s||("small"===o?6:8)],[v,y]=K(x,"line",{strokeWidth:s});const k={backgroundColor:u||void 0,borderRadius:h},b=Object.assign(Object.assign({width:`${U(n)}%`,height:y,borderRadius:h},g),{[ee]:U(n)/100}),C=G(e),$={width:`${U(C)}%`,height:y,borderRadius:h,backgroundColor:null==p?void 0:p.strokeColor},w={width:v<0?"100%":v},S=c.createElement("div",{className:`${t}-inner`,style:k},c.createElement("div",{className:j()(`${t}-bg`,`${t}-bg-${f}`),style:b},"inner"===f&&l),void 0!==C&&c.createElement("div",{className:`${t}-success-bg`,style:$})),M="outer"===f&&"start"===m,P="outer"===f&&"end"===m;return"outer"===f&&"center"===m?c.createElement("div",{className:`${t}-layout-bottom`},S,l):c.createElement("div",{className:`${t}-outer`,style:w},M&&l,S,P&&l)};var ue=e=>{const{size:t,steps:r,percent:n=0,strokeWidth:o=8,strokeColor:s,trailColor:a=null,prefixCls:i,children:l}=e,u=Math.round(r*(n/100)),d=null!=t?t:["small"===t?2:14,o],[p,m]=K(d,"step",{steps:r,strokeWidth:o}),f=p/r,g=new Array(r);for(let e=0;e<r;e++){const t=Array.isArray(s)?s[e]:s;g[e]=c.createElement("div",{key:e,className:j()(`${i}-steps-item`,{[`${i}-steps-item-active`]:e<=u-1}),style:{backgroundColor:e<=u-1?t:a,width:f,height:m}})}return c.createElement("div",{className:`${i}-steps-outer`},g,l)},de=r(99978),pe=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]])}return r};const me=["normal","exception","active","success"],fe=c.forwardRef(((e,t)=>{const{prefixCls:r,className:n,rootClassName:o,steps:s,strokeColor:a,percent:i=0,size:l="default",showInfo:u=!0,type:d="line",status:p,format:m,style:f,percentPosition:g={}}=e,h=pe(e,["prefixCls","className","rootClassName","steps","strokeColor","percent","size","showInfo","type","status","format","style","percentPosition"]),{align:b="end",type:w="outer"}=g,S=Array.isArray(a)?a[0]:a,M="string"==typeof a||Array.isArray(a)?a:void 0,P=c.useMemo((()=>{if(S){const e="string"==typeof S?S:Object.values(S)[0];return new de.C(e).isLight()}return!1}),[a]),E=c.useMemo((()=>{var t,r;const n=G(e);return parseInt(void 0!==n?null===(t=null!=n?n:0)||void 0===t?void 0:t.toString():null===(r=null!=i?i:0)||void 0===r?void 0:r.toString(),10)}),[i,e.success,e.successPercent]),Z=c.useMemo((()=>!me.includes(p)&&E>=100?"success":p||"normal"),[p,E]),{getPrefixCls:I,direction:O,progress:z}=c.useContext($.E_),N=I("progress",r),[W,A,R]=ae(N),D="line"===d,T=D&&!s,L=c.useMemo((()=>{if(!u)return null;const t=G(e);let r;const n=D&&P&&"inner"===w;return"inner"===w||m||"exception"!==Z&&"success"!==Z?r=(m||(e=>`${e}%`))(U(i),U(t)):"exception"===Z?r=D?c.createElement(y.Z,null):c.createElement(k.Z,null):"success"===Z&&(r=D?c.createElement(x.Z,null):c.createElement(v.Z,null)),c.createElement("span",{className:j()(`${N}-text`,{[`${N}-text-bright`]:n,[`${N}-text-${b}`]:T,[`${N}-text-${w}`]:T}),title:"string"==typeof r?r:void 0},r)}),[u,i,E,Z,d,N,m]);let _;"line"===d?_=s?c.createElement(ue,Object.assign({},e,{strokeColor:M,prefixCls:N,steps:"object"==typeof s?s.count:s}),L):c.createElement(le,Object.assign({},e,{strokeColor:S,prefixCls:N,direction:O,percentPosition:{align:b,type:w}}),L):"circle"!==d&&"dashboard"!==d||(_=c.createElement(q,Object.assign({},e,{strokeColor:S,prefixCls:N,progressStatus:Z}),L));const F=j()(N,`${N}-status-${Z}`,{[`${N}-${"dashboard"===d?"circle":d}`]:"line"!==d,[`${N}-inline-circle`]:"circle"===d&&K(l,"circle")[0]<=20,[`${N}-line`]:T,[`${N}-line-align-${b}`]:T,[`${N}-line-position-${w}`]:T,[`${N}-steps`]:s,[`${N}-show-info`]:u,[`${N}-${l}`]:"string"==typeof l,[`${N}-rtl`]:"rtl"===O},null==z?void 0:z.className,n,o,A,R);return W(c.createElement("div",Object.assign({ref:t,style:Object.assign(Object.assign({},null==z?void 0:z.style),f),className:F,role:"progressbar","aria-valuenow":E},(0,C.Z)(h,["trailColor","strokeWidth","width","gapDegree","gapPosition","strokeLinecap","success","successPercent"])),_))}));var ge=fe,he=r(11527),xe=(0,c.memo)((function(e){var t=e.percent,r=(e.steps,e.download),n=e.label,o=(0,c.useMemo)((function(){return r?"var(--ant-color-primary)":t<=50?"var(--color-progress-green)":t<=80?"var(--ant-color-warning)":"var(--ant-color-error)"}),[t]);return(0,he.jsx)(he.Fragment,{children:n?(0,he.jsx)(h.Z,{title:n,children:(0,he.jsx)(ge,{percentPosition:{align:"center",type:"inner"},size:[void 0,16],format:function(){return(0,he.jsxs)("span",{style:{color:"#fff"},children:[t,"%"]})},percent:t,strokeColor:o})}):(0,he.jsx)(ge,{type:"line",percentPosition:{align:"center",type:"inner"},size:[void 0,16],format:function(){return(0,he.jsxs)("span",{style:{color:"#fff"},children:[t,"%"]})},percent:t,strokeColor:o})})})),ve=r(79822),ye=r(34088),ke=r(46392),be=r(776),je=r(81126),Ce=r(99158),$e=r(66551),we=r(32699),Se=r.n(we),Me="/workers",Pe="/gpu-devices";function Ee(e){return Ze.apply(this,arguments)}function Ze(){return(Ze=p()(u()().mark((function e(t){return u()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,a.request)("".concat(Me),{methos:"GET",params:t}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ie(e){return Oe.apply(this,arguments)}function Oe(){return(Oe=p()(u()().mark((function e(t){return u()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,a.request)("".concat(Pe),{methos:"GET",params:t}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ze(e){return Ne.apply(this,arguments)}function Ne(){return(Ne=p()(u()().mark((function e(t){return u()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,a.request)("".concat(Me,"/").concat(t),{method:"DELETE"}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var We=be.Z.Column,Ae=function(){var e=(0,a.useIntl)(),t=(0,ve.Z)({defaultSortOrder:"descend"}),r=(t.sortOrder,t.setSortOrder),n=(0,c.useState)({dataList:[],loading:!1,total:0}),s=o()(n,2),i=s[0],l=s[1],d=(0,c.useState)({page:1,perPage:10,search:""}),m=o()(d,2),h=m[0],x=m[1],v=function(){var e=p()(u()().mark((function e(){var t,r;return u()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l((function(e){return e.loading=!0,f()({},e)})),e.prev=1,t=f()({},Se().pickBy(h,(function(e){return!!e}))),e.next=5,Ie(t);case 5:r=e.sent,l({dataList:r.items||[],loading:!1,total:r.pagination.total}),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),l({dataList:[],loading:!1,total:i.total});case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}();return(0,c.useEffect)((function(){v()}),[h]),(0,he.jsxs)(he.Fragment,{children:[(0,he.jsx)(g.Z,{marginBottom:10,marginTop:10,left:(0,he.jsxs)(je.Z,{children:[(0,he.jsx)(Ce.Z,{placeholder:e.formatMessage({id:"common.filter.name"}),style:{width:300},allowClear:!0,onChange:function(e){x(f()(f()({},h),{},{search:e.target.value}))}}),(0,he.jsx)($e.ZP,{type:"text",style:{color:"var(--ant-color-text-tertiary)"},onClick:function(e){v()},icon:(0,he.jsx)(ke.Z,{})})]})}),(0,he.jsxs)(be.Z,{dataSource:i.dataList,loading:i.loading,rowKey:"id",onChange:function(e,t,n){r(n.order)},pagination:{showSizeChanger:!0,pageSize:h.perPage,current:h.page,total:i.total,hideOnSinglePage:10===h.perPage,onChange:function(e,t){x(f()(f()({},h),{},{page:e,perPage:t||10}))}},children:[(0,he.jsx)(We,{title:e.formatMessage({id:"common.table.name"}),dataIndex:"name"},"name"),(0,he.jsx)(We,{title:e.formatMessage({id:"resources.table.index"}),dataIndex:"index",render:function(e,t){return(0,he.jsx)("span",{children:t.index})}},"index"),(0,he.jsx)(We,{title:e.formatMessage({id:"resources.table.workername"}),dataIndex:"worker_name"},"worker_name"),(0,he.jsx)(We,{title:e.formatMessage({id:"resources.table.vender"}),dataIndex:"vendor"},"vendor"),(0,he.jsx)(We,{title:"".concat(e.formatMessage({id:"resources.table.temperature"})," (°C)"),dataIndex:"temperature",render:function(e,t){return(0,he.jsx)("span",{children:e?Se().round(e,1):"-"})}},"Temperature"),(0,he.jsx)(We,{title:e.formatMessage({id:"resources.table.core"}),dataIndex:"core",render:function(e,t){var r;return(0,he.jsx)("span",{children:null===(r=t.core)||void 0===r?void 0:r.total})}},"Core"),(0,he.jsx)(We,{title:e.formatMessage({id:"resources.table.gpuutilization"}),dataIndex:"gpuUtil",render:function(e,t){var r;return(0,he.jsx)(xe,{percent:Se().round(null===(r=t.core)||void 0===r?void 0:r.utilization_rate,2)})}},"gpuUtil"),(0,he.jsx)(We,{title:e.formatMessage({id:"resources.table.vramutilization"}),dataIndex:"VRAM",render:function(t,r){var n,o,s;return(0,he.jsx)(xe,{percent:Se().round(null===(n=r.memory)||void 0===n?void 0:n.utilization_rate,0),label:(0,he.jsxs)("span",{className:"flex-column",children:[(0,he.jsxs)("span",{children:[e.formatMessage({id:"resources.table.total"}),":"," ",(0,ye.hy)(null===(o=r.memory)||void 0===o?void 0:o.total,0)]}),(0,he.jsxs)("span",{children:[e.formatMessage({id:"resources.table.used"}),":"," ",(0,ye.hy)(null===(s=r.memory)||void 0===s?void 0:s.used,0)]})]})})}},"VRAM")]})]})},Re=(0,c.memo)(Ae),De=r(41755),Te=r(69517),Le=r(43463),_e=r(23543),Fe=r(10822),Be=r(26657),Xe=r(56280),Ue=r(94299),Ge=r(82092),Ke=r.n(Ge),qe=r(33398),He="ready",Ve="not_ready",Je=Ke()(Ke()({},He,"Ready"),Ve,"Not Ready"),Qe=Ke()(Ke()({},He,qe.iE.success),Ve,qe.iE.error),Ye={getToken:"cat /var/lib/gpustack/token",registerWorker:function(e){return"curl -sfL https://get.gpustack.ai | sh -s - --server-url ".concat(e," --token mytoken")}},et={getToken:'Get-Content -Path (Join-Path -Path $env:APPDATA -ChildPath "gpustack\\token") -Raw',registerWorker:function(e){return'Invoke-Expression "& { $((Invoke-WebRequest -Uri "https://get.gpustack.ai" -UseBasicParsing).Content) } --server-url '.concat(e,' --token mytoken"')}},tt=r(34018),rt=r(48157),nt=function(e){var t=e||{},r=t.open,n=t.onCancel,o=(0,a.useIntl)(),s=window.location.origin;return(0,he.jsx)(rt.Z,{title:o.formatMessage({id:"resources.button.create"}),open:r,centered:!0,onCancel:n,destroyOnClose:!0,closeIcon:!0,maskClosable:!1,keyboard:!1,width:600,footer:null,children:(0,he.jsxs)("div",{children:[(0,he.jsxs)("h3",{children:["1. ",o.formatMessage({id:"resources.worker.add.step1"})]}),(0,he.jsx)("h4",{children:o.formatMessage({id:"resources.worker.linuxormaxos"})}),(0,he.jsx)(tt.Z,{code:Ye.getToken,theme:"dark"}),(0,he.jsx)("h4",{children:"Windows "}),(0,he.jsx)(tt.Z,{code:et.getToken,theme:"dark"}),(0,he.jsxs)("h3",{children:["2. ",o.formatMessage({id:"resources.worker.add.step2"})," ",(0,he.jsx)("span",{className:"font-size-12",style:{color:"var(--ant-color-text-tertiary)"},dangerouslySetInnerHTML:{__html:"(".concat(o.formatMessage({id:"resources.worker.add.step2.tips"}),")")}})]}),(0,he.jsx)("h4",{children:o.formatMessage({id:"resources.worker.linuxormaxos"})}),(0,he.jsx)(tt.Z,{code:Ye.registerWorker(s),theme:"dark"}),(0,he.jsx)("h4",{children:"Windows "}),(0,he.jsx)(tt.Z,{theme:"dark",code:et.registerWorker(s)}),(0,he.jsxs)("h3",{children:["3. ",o.formatMessage({id:"resources.worker.add.step3"})]})]})})},ot=c.memo(nt),st=be.Z.Column,at=function(){var e=(0,ve.Z)({defaultSortOrder:"descend"}),t=(e.sortOrder,e.setSortOrder),r=(0,c.useRef)(null),n=(0,_e.Z)(),s=(0,a.useIntl)(),i=(0,c.useState)(!1),l=o()(i,2),d=l[0],m=l[1],x=(0,c.useState)({dataList:[],loading:!1,total:0}),v=o()(x,2),y=v[0],k=v[1],b=(0,c.useState)({page:1,perPage:10,search:""}),j=o()(b,2),C=j[0],$=j[1],w=(0,c.useCallback)(p()(u()().mark((function e(){var t,r;return u()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return k((function(e){return e.loading=!0,f()({},e)})),e.prev=1,t=f()({},Se().pickBy(C,(function(e){return!!e}))),e.next=5,Ee(t);case 5:r=e.sent,k({dataList:r.items,loading:!1,total:r.pagination.total}),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),k({dataList:[],loading:!1,total:y.total});case 13:case"end":return e.stop()}}),e,null,[[1,9]])}))),[C]),S=(0,c.useCallback)((function(e,r,n){t(n.order)}),[]),M=function(e,t){return t&&e?Se().round(e/t*100,0):0},P=function(){m(!0)},E=function(e){var t=Se().find(e,(function(e){return"/"===e.mount_point}));return t?(0,he.jsxs)("span",{className:"flex-column",children:[(0,he.jsxs)("span",{children:[s.formatMessage({id:"resources.table.total"}),":"," ",(0,ye.hy)(null==t?void 0:t.total,0)]}),(0,he.jsxs)("span",{children:[s.formatMessage({id:"resources.table.used"}),":"," ",(0,ye.hy)(null==t?void 0:t.used,0)]})]}):0};return(0,c.useEffect)((function(){w()}),[C]),(0,Ue.y1)(Le.ZP.CREATE.join(","),P,{enabled:!d}),(0,he.jsxs)(he.Fragment,{children:[(0,he.jsx)(g.Z,{marginBottom:10,marginTop:10,left:(0,he.jsxs)(je.Z,{children:[(0,he.jsx)(Ce.Z,{placeholder:s.formatMessage({id:"common.filter.name"}),style:{width:300},allowClear:!0,onChange:function(e){$(f()(f()({},C),{},{search:e.target.value}))}}),(0,he.jsx)($e.ZP,{type:"text",style:{color:"var(--ant-color-text-tertiary)"},onClick:function(e){w()},icon:(0,he.jsx)(ke.Z,{})})]}),right:(0,he.jsxs)(je.Z,{size:20,children:[(0,he.jsx)($e.ZP,{icon:(0,he.jsx)(Fe.Z,{}),type:"primary",onClick:P,children:s.formatMessage({id:"resources.button.create"})}),(0,he.jsx)($e.ZP,{icon:(0,he.jsx)(Be.Z,{}),danger:!0,onClick:function(){r.current.show({content:"wokers",selection:!0,onOk:function(){return p()(u()().mark((function e(){return u()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,ye.D6)(n.selectedRowKeys,ze);case 2:n.clearSelections(),w();case 4:case"end":return e.stop()}}),e)})))()}})},disabled:!n.selectedRowKeys.length,children:s.formatMessage({id:"common.button.delete"})})]})}),(0,he.jsxs)(be.Z,{style:{width:"100%"},dataSource:y.dataList,loading:y.loading,rowKey:"id",onChange:S,rowSelection:n,pagination:{showSizeChanger:!0,pageSize:C.perPage,current:C.page,total:y.total,hideOnSinglePage:10===C.perPage,onChange:function(e,t){$(f()(f()({},C),{},{page:e,perPage:t||10}))}},children:[(0,he.jsx)(st,{title:s.formatMessage({id:"common.table.name"}),dataIndex:"name"},"name"),(0,he.jsx)(st,{title:s.formatMessage({id:"common.table.status"}),dataIndex:"state",render:function(e,t){return(0,he.jsx)(Te.Z,{statusValue:{status:Qe[t.state],text:Je[t.state],message:t.state_message}})}},"state"),(0,he.jsx)(st,{title:"IP",dataIndex:"ip"},"address"),(0,he.jsx)(st,{title:"CPU",dataIndex:"CPU",render:function(e,t){var r;return(0,he.jsx)(xe,{percent:Se().round(null==t||null===(r=t.status)||void 0===r||null===(r=r.cpu)||void 0===r?void 0:r.utilization_rate,0)})}},"CPU"),(0,he.jsx)(st,{title:s.formatMessage({id:"resources.table.memory"}),dataIndex:"memory",render:function(e,t){var r,n,o,a;return(0,he.jsx)(xe,{percent:M(null==t||null===(r=t.status)||void 0===r||null===(r=r.memory)||void 0===r?void 0:r.used,null==t||null===(n=t.status)||void 0===n||null===(n=n.memory)||void 0===n?void 0:n.total),label:(0,he.jsxs)("span",{className:"flex-column",children:[(0,he.jsxs)("span",{children:[s.formatMessage({id:"resources.table.total"}),":"," ",(0,ye.hy)(null==t||null===(o=t.status)||void 0===o||null===(o=o.memory)||void 0===o?void 0:o.total,0)]}),(0,he.jsxs)("span",{children:[s.formatMessage({id:"resources.table.used"}),":"," ",(0,ye.hy)(null==t||null===(a=t.status)||void 0===a||null===(a=a.memory)||void 0===a?void 0:a.used,0)]})]})})}},"Memory"),(0,he.jsx)(st,{title:"GPU",dataIndex:"GPU",render:function(e,t){var r;return(0,he.jsx)("span",{className:"flex-column flex-gap-2",children:Se().map(null==t||null===(r=t.status)||void 0===r?void 0:r.gpu_devices,(function(e,t){var r;return(0,he.jsxs)("span",{className:"flex-center",children:[(0,he.jsxs)("span",{className:"m-r-5",style:{display:"flex",width:25},children:["[",e.index,"]"]}),(0,he.jsx)(xe,{percent:Se().round(null===(r=e.core)||void 0===r?void 0:r.utilization_rate,0)},t)]},t)}))})}},"GPU"),(0,he.jsx)(st,{title:s.formatMessage({id:"resources.table.vram"}),dataIndex:"VRAM",render:function(e,t){var r;return(0,he.jsx)("span",{className:"flex-column",children:Se().map(null==t||null===(r=t.status)||void 0===r?void 0:r.gpu_devices,(function(e,t){var r,n,o;return(0,he.jsx)("span",{children:(0,he.jsxs)("span",{className:"flex-center",children:[(0,he.jsxs)("span",{className:"m-r-5",style:{display:"flex",width:25},children:["[",e.index,"]"]}),(0,he.jsx)(xe,{percent:Se().round(null===(r=e.memory)||void 0===r?void 0:r.utilization_rate,0),label:(0,he.jsxs)("span",{className:"flex-column",children:[(0,he.jsxs)("span",{children:[s.formatMessage({id:"resources.table.total"}),": ",(0,ye.hy)(null===(n=e.memory)||void 0===n?void 0:n.total,0)]}),(0,he.jsxs)("span",{children:[s.formatMessage({id:"resources.table.used"}),": ",(0,ye.hy)(null===(o=e.memory)||void 0===o?void 0:o.used,0)]})]})},t),e.memory.is_unified_memory&&(0,he.jsx)(h.Z,{title:s.formatMessage({id:"resources.table.unified"}),children:(0,he.jsx)(Xe.Z,{className:"m-l-5"})})]})},t)}))})}},"VRAM"),(0,he.jsx)(st,{title:s.formatMessage({id:"resources.table.disk"}),dataIndex:"storage",render:function(e,t){var r,n,o;return(0,he.jsx)(xe,{percent:(n=null===(r=t.status)||void 0===r?void 0:r.filesystem,o=Se().find(n,(function(e){return"/"===e.mount_point})),o?M(o.used,o.total):0),label:E(t.status.filesystem)})}},"storage"),(0,he.jsx)(st,{title:s.formatMessage({id:"common.table.operation"}),render:function(e,t){return(0,he.jsx)(je.Z,{size:20,children:(0,he.jsx)(h.Z,{title:s.formatMessage({id:"common.button.delete"}),children:(0,he.jsx)($e.ZP,{onClick:function(){return e=t,void r.current.show({content:"worker",name:e.name,onOk:function(){return p()(u()().mark((function t(){return u()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=3,ze(e.id);case 3:w();case 4:case"end":return t.stop()}}),t)})))()}});var e},size:"small",danger:!0,icon:(0,he.jsx)(Be.Z,{})})})})}},"operation")]}),(0,he.jsx)(De.Z,{ref:r}),(0,he.jsx)(ot,{open:d,onCancel:function(){return m(!1)}})]})},it=(0,c.memo)(at),ct=[{key:"workers",label:"Workers",children:(0,he.jsx)(it,{})},{key:"gpus",label:"GPUs",children:(0,he.jsx)(Re,{})}],lt=function(){var e=(0,c.useState)("workers"),t=o()(e,2),r=t[0],n=t[1],l=(0,a.useIntl)(),u=(0,c.useCallback)((function(e){n(e)}),[]);return(0,he.jsx)(he.Fragment,{children:(0,he.jsx)(s._z,{ghost:!0,header:{title:l.formatMessage({id:"resources.title"})},extra:[],children:(0,he.jsx)("div",{style:{marginTop:60},children:(0,he.jsx)(i.Z,{type:"card",defaultActiveKey:"workers",items:ct,accessKey:r,onChange:u})})})})}},34088:function(e,t,r){r.d(t,{D6:function(){return c},JL:function(){return i},hy:function(){return l},oc:function(){return u},uf:function(){return d}});r(15558);var n=r(90228),o=r.n(n),s=r(87999),a=r.n(s),i=(r(32699),function(e){return Array.isArray(e)?e.length>0:!!e||0===e||!1===e}),c=function(){var e=a()(o()().mark((function e(t,r){return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.all(t.map((function(e){return r(e)}))));case 1:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),l=function(e,t){var r=null!=t?t:1;return e?e<1024?"".concat(e.toFixed(r)," B"):e<1048576?"".concat((e/1024).toFixed(r)," KiB"):e<1073741824?"".concat((e/1048576).toFixed(r)," MiB"):e<1099511627776?"".concat((e/1073741824).toFixed(r)," GiB"):"".concat((e/1099511627776).toFixed(r)," TiB"):"0"},u=function(){var e=navigator.userAgent;return{isMac:-1!==e.indexOf("Mac"),isWin:-1!==e.indexOf("Win")}},d=function(e){return e?e>=1e6?(e/1e6).toFixed(2)+"M":e>=1e3?(e/1e3).toFixed(2)+"k":e.toString():"0"}}}]);