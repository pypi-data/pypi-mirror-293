(self.webpackChunkjupyterlab_datalogs=self.webpackChunkjupyterlab_datalogs||[]).push([[522],{522:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>C});const o="jupyterlab-datalogs",r="application/json",a="application/x-netcdf";var i=n(460);const c=new i.LabIcon({name:`${o}:border-all-icon`,svgstr:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512">\n  \x3c!--\n    Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com\n    License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.\n  --\x3e\n  <path\n    class="jp-icon-selectable"\n    fill="#06778f"\n    d="M384 96V224H256V96H384zm0 192V416H256V288H384zM192 224H64V96H192V224zM64 288H192V416H64V288zM64 32C28.7 32 0 60.7 0 96V416c0 35.3 28.7 64 64 64H384c35.3 0 64-28.7 64-64V96c0-35.3-28.7-64-64-64H64z"\n  />\n</svg>\n'}),l=new i.LabIcon({name:`${o}:chart-line-icon`,svgstr:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">\n  \x3c!--\n    Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com\n    License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.\n  --\x3e\n  <path\n    fill="#f37626"\n    d="M64 64c0-17.7-14.3-32-32-32S0 46.3 0 64V400c0 44.2 35.8 80 80 80H480c17.7 0 32-14.3 32-32s-14.3-32-32-32H80c-8.8 0-16-7.2-16-16V64zm406.6 86.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L320 210.7l-57.4-57.4c-12.5-12.5-32.8-12.5-45.3 0l-112 112c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L240 221.3l57.4 57.4c12.5 12.5 32.8 12.5 45.3 0l128-128z"\n  />\n</svg>\n'}),s={id:`${o}:netcdf-file-type-plugin`,description:"Adds NetCDF file type.",autoStart:!0,activate({docRegistry:e}){void 0===e.getFileType("netcdf")&&e.addFileType({name:"netcdf",displayName:"NetCDF File",extensions:[".nc"],mimeTypes:[a],contentType:"file",fileFormat:"base64",icon:c})}};var u=n(887),d=n(313),g=n(480),f=n(975),h=n.n(f);const m="_log";function p(e,t){const{name:n,path:o,mimetype:i}=e,{context:{path:c}}=t,l=t.model?.toString(),s=n.split(".")[0].replaceAll("-","_");let u,d,g=`${s}${m}`,f=1;for(;l?.includes(g);)g=`${s}${m}_${f}`,f+=1;i===r?(u="DictLog.load",d=`\nprint(${g}.data)`):i===a?(u="DataLog.load",d=`\nfor data_var_name in ${g}.data:\n    print(f'${g}.data["{data_var_name}"]')\n    plt.figure()\n    ${g}.data[data_var_name].plot()\n    plt.show()`):(u="load_log",d="");let p=h().relative(h().dirname(c),o);return p.startsWith("RTC:")&&(p=p.slice(4)),`${g} = ${u}("${p}")${d}`}async function v(e,t,n){const{insertLocation:o="newCellBelow",cellType:r="code"}=n??{};if("newCellBelow"===o?g.NotebookActions.insertBelow(e):"newCellAbove"===o&&g.NotebookActions.insertAbove(e),g.NotebookActions.changeCellType(e,r),t){const{activeCell:n}=e;if(null!==n){await n.ready;const{editor:e}=n;void 0!==e?.replaceSelection&&e.replaceSelection(t)}}}const w=new Set([r,a]),y=["import numpy as np","import xarray as xr","import matplotlib.pyplot as plt","from datalogs import load_log, DictLog, DataLog"],C=[s,{id:`${o}:datalogs-load-code-plugin`,description:"Shortcuts to generate code that loads logs with DataLogs.",autoStart:!0,requires:[u.ILauncher,d.IFileBrowserFactory,g.INotebookTracker],activate({commands:e},t,{tracker:n},r){async function a(){const t=await e.execute("notebook:create-new");await t.context.ready;const{content:n}=t;await v(n,"## Imports",{insertLocation:"currentCell",cellType:"markdown"}),await v(n,y.join("\n")),await v(n,"## Load Logs",{cellType:"markdown"}),await v(n),g.NotebookActions.renderAllMarkdown(n),n.activeCellIndex=2}e.addCommand(`${o}:add-datalogs-load-code-command`,{label:"Add DataLogs Load Code",icon:i.addIcon,execute:async()=>{const{currentWidget:e}=n;if(null===e)return;const t=[...e.selectedItems()],{currentWidget:o}=r;if(null===o)return;await o.context.ready;const{content:a}=o;for(const e of t)await v(a,p(e,o))},isVisible:()=>{const{currentWidget:e}=n;return null!==r.currentWidget&&null!==e&&[...e.selectedItems()].every((({mimetype:e})=>w.has(e)))}}),e.addCommand(`${o}:new-datalogs-notebook-command`,{label:"New DataLogs Notebook",icon:l,execute:a}),e.addCommand(`${o}:datalogs-notebook-command`,{label:"DataLogs Notebook",icon:l,execute:a}),e.addCommand(`${o}:datalogs-command`,{label:"DataLogs",icon:l,execute:a}),t.add({category:"Notebook",command:`${o}:datalogs-command`,kernelIconUrl:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1MTIgNTEyIj4KICA8IS0tCiAgICBGb250IEF3ZXNvbWUgRnJlZSA2LjQuMiBieSBAZm9udGF3ZXNvbWUgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbQogICAgTGljZW5zZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tL2xpY2Vuc2UvZnJlZSAoSWNvbnM6IENDIEJZIDQuMCwgRm9udHM6IFNJTCBPRkwgMS4xLCBDb2RlOiBNSVQgTGljZW5zZSkgQ29weXJpZ2h0IDIwMjMgRm9udGljb25zLCBJbmMuCiAgLS0+CiAgPHBhdGgKICAgIGZpbGw9IiNmMzc2MjYiCiAgICBkPSJNNjQgNjRjMC0xNy43LTE0LjMtMzItMzItMzJTMCA0Ni4zIDAgNjRWNDAwYzAgNDQuMiAzNS44IDgwIDgwIDgwSDQ4MGMxNy43IDAgMzItMTQuMyAzMi0zMnMtMTQuMy0zMi0zMi0zMkg4MGMtOC44IDAtMTYtNy4yLTE2LTE2VjY0em00MDYuNiA4Ni42YzEyLjUtMTIuNSAxMi41LTMyLjggMC00NS4zcy0zMi44LTEyLjUtNDUuMyAwTDMyMCAyMTAuN2wtNTcuNC01Ny40Yy0xMi41LTEyLjUtMzIuOC0xMi41LTQ1LjMgMGwtMTEyIDExMmMtMTIuNSAxMi41LTEyLjUgMzIuOCAwIDQ1LjNzMzIuOCAxMi41IDQ1LjMgMEwyNDAgMjIxLjNsNTcuNCA1Ny40YzEyLjUgMTIuNSAzMi44IDEyLjUgNDUuMyAwbDEyOC0xMjh6IgogIC8+Cjwvc3ZnPgo="})}}]},975:(e,t,n)=>{"use strict";var o=n(606);function r(e){if("string"!=typeof e)throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}function a(e,t){for(var n,o="",r=0,a=-1,i=0,c=0;c<=e.length;++c){if(c<e.length)n=e.charCodeAt(c);else{if(47===n)break;n=47}if(47===n){if(a===c-1||1===i);else if(a!==c-1&&2===i){if(o.length<2||2!==r||46!==o.charCodeAt(o.length-1)||46!==o.charCodeAt(o.length-2))if(o.length>2){var l=o.lastIndexOf("/");if(l!==o.length-1){-1===l?(o="",r=0):r=(o=o.slice(0,l)).length-1-o.lastIndexOf("/"),a=c,i=0;continue}}else if(2===o.length||1===o.length){o="",r=0,a=c,i=0;continue}t&&(o.length>0?o+="/..":o="..",r=2)}else o.length>0?o+="/"+e.slice(a+1,c):o=e.slice(a+1,c),r=c-a-1;a=c,i=0}else 46===n&&-1!==i?++i:i=-1}return o}var i={resolve:function(){for(var e,t="",n=!1,i=arguments.length-1;i>=-1&&!n;i--){var c;i>=0?c=arguments[i]:(void 0===e&&(e=o.cwd()),c=e),r(c),0!==c.length&&(t=c+"/"+t,n=47===c.charCodeAt(0))}return t=a(t,!n),n?t.length>0?"/"+t:"/":t.length>0?t:"."},normalize:function(e){if(r(e),0===e.length)return".";var t=47===e.charCodeAt(0),n=47===e.charCodeAt(e.length-1);return 0!==(e=a(e,!t)).length||t||(e="."),e.length>0&&n&&(e+="/"),t?"/"+e:e},isAbsolute:function(e){return r(e),e.length>0&&47===e.charCodeAt(0)},join:function(){if(0===arguments.length)return".";for(var e,t=0;t<arguments.length;++t){var n=arguments[t];r(n),n.length>0&&(void 0===e?e=n:e+="/"+n)}return void 0===e?".":i.normalize(e)},relative:function(e,t){if(r(e),r(t),e===t)return"";if((e=i.resolve(e))===(t=i.resolve(t)))return"";for(var n=1;n<e.length&&47===e.charCodeAt(n);++n);for(var o=e.length,a=o-n,c=1;c<t.length&&47===t.charCodeAt(c);++c);for(var l=t.length-c,s=a<l?a:l,u=-1,d=0;d<=s;++d){if(d===s){if(l>s){if(47===t.charCodeAt(c+d))return t.slice(c+d+1);if(0===d)return t.slice(c+d)}else a>s&&(47===e.charCodeAt(n+d)?u=d:0===d&&(u=0));break}var g=e.charCodeAt(n+d);if(g!==t.charCodeAt(c+d))break;47===g&&(u=d)}var f="";for(d=n+u+1;d<=o;++d)d!==o&&47!==e.charCodeAt(d)||(0===f.length?f+="..":f+="/..");return f.length>0?f+t.slice(c+u):(c+=u,47===t.charCodeAt(c)&&++c,t.slice(c))},_makeLong:function(e){return e},dirname:function(e){if(r(e),0===e.length)return".";for(var t=e.charCodeAt(0),n=47===t,o=-1,a=!0,i=e.length-1;i>=1;--i)if(47===(t=e.charCodeAt(i))){if(!a){o=i;break}}else a=!1;return-1===o?n?"/":".":n&&1===o?"//":e.slice(0,o)},basename:function(e,t){if(void 0!==t&&"string"!=typeof t)throw new TypeError('"ext" argument must be a string');r(e);var n,o=0,a=-1,i=!0;if(void 0!==t&&t.length>0&&t.length<=e.length){if(t.length===e.length&&t===e)return"";var c=t.length-1,l=-1;for(n=e.length-1;n>=0;--n){var s=e.charCodeAt(n);if(47===s){if(!i){o=n+1;break}}else-1===l&&(i=!1,l=n+1),c>=0&&(s===t.charCodeAt(c)?-1==--c&&(a=n):(c=-1,a=l))}return o===a?a=l:-1===a&&(a=e.length),e.slice(o,a)}for(n=e.length-1;n>=0;--n)if(47===e.charCodeAt(n)){if(!i){o=n+1;break}}else-1===a&&(i=!1,a=n+1);return-1===a?"":e.slice(o,a)},extname:function(e){r(e);for(var t=-1,n=0,o=-1,a=!0,i=0,c=e.length-1;c>=0;--c){var l=e.charCodeAt(c);if(47!==l)-1===o&&(a=!1,o=c+1),46===l?-1===t?t=c:1!==i&&(i=1):-1!==t&&(i=-1);else if(!a){n=c+1;break}}return-1===t||-1===o||0===i||1===i&&t===o-1&&t===n+1?"":e.slice(t,o)},format:function(e){if(null===e||"object"!=typeof e)throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof e);return function(e,t){var n=t.dir||t.root,o=t.base||(t.name||"")+(t.ext||"");return n?n===t.root?n+o:n+"/"+o:o}(0,e)},parse:function(e){r(e);var t={root:"",dir:"",base:"",ext:"",name:""};if(0===e.length)return t;var n,o=e.charCodeAt(0),a=47===o;a?(t.root="/",n=1):n=0;for(var i=-1,c=0,l=-1,s=!0,u=e.length-1,d=0;u>=n;--u)if(47!==(o=e.charCodeAt(u)))-1===l&&(s=!1,l=u+1),46===o?-1===i?i=u:1!==d&&(d=1):-1!==i&&(d=-1);else if(!s){c=u+1;break}return-1===i||-1===l||0===d||1===d&&i===l-1&&i===c+1?-1!==l&&(t.base=t.name=0===c&&a?e.slice(1,l):e.slice(c,l)):(0===c&&a?(t.name=e.slice(1,i),t.base=e.slice(1,l)):(t.name=e.slice(c,i),t.base=e.slice(c,l)),t.ext=e.slice(i,l)),c>0?t.dir=e.slice(0,c-1):a&&(t.dir="/"),t},sep:"/",delimiter:":",win32:null,posix:null};i.posix=i,e.exports=i},606:e=>{var t,n,o=e.exports={};function r(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function i(e){if(t===setTimeout)return setTimeout(e,0);if((t===r||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(n){try{return t.call(null,e,0)}catch(n){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:r}catch(e){t=r}try{n="function"==typeof clearTimeout?clearTimeout:a}catch(e){n=a}}();var c,l=[],s=!1,u=-1;function d(){s&&c&&(s=!1,c.length?l=c.concat(l):u=-1,l.length&&g())}function g(){if(!s){var e=i(d);s=!0;for(var t=l.length;t;){for(c=l,l=[];++u<t;)c&&c[u].run();u=-1,t=l.length}c=null,s=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===a||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{return n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function f(e,t){this.fun=e,this.array=t}function h(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];l.push(new f(e,t)),1!==l.length||s||i(g)},f.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=h,o.addListener=h,o.once=h,o.off=h,o.removeListener=h,o.removeAllListeners=h,o.emit=h,o.prependListener=h,o.prependOnceListener=h,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}}}]);