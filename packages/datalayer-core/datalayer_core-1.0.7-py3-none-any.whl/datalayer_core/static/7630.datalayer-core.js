"use strict";(self.webpackChunk_datalayer_core=self.webpackChunk_datalayer_core||[]).push([[7630],{7630:(e,s,t)=>{t.r(s),t.d(s,{ExerciseTake:()=>v,default:()=>k});var r=t(91896),n=t(56769),a=t(59886),i=t(36705),l=t(64506),c=t(81457),o=t(31728),u=t(77402),d=t(13676),h=t(74151),x=t(39617),p=t(80299),f=t(35323),j=t(54515),g=t(96193),m=t(67252),y=t(90673),Z=t(45209);const v=()=>{const{accountHandle:e,spaceHandle:s,exerciseId:t}=(0,a.UO)();if(!t)return(0,r.jsx)(r.Fragment,{});const v=(0,Z.qX)(),k=(0,p.useOutputsStore)(),b=(0,y.aF)(),{kernelManager:E,defaultKernel:S}=(0,f.W$)(),$=(v.layout().organization,v.layout().space),{refreshExercise:C,getExercise:T,cloneExercise:P}=(0,y.YT)(),_=(0,y.s0)(),w=(0,i.N)(),{enqueueToast:R}=(0,y.pm)(),[V]=(0,n.useState)("exercise-student"),[I,q]=(0,n.useState)(!1),[z,F]=(0,n.useState)(),[H,M]=(0,n.useState)((0,j.ZI)()),[D,O]=(0,n.useState)(!1),Y=k.getInput(V),G=(0,n.useMemo)((()=>S),[E]),L=k.getGradeSuccess(V);(0,n.useEffect)((()=>{L&&(O(L),setTimeout((()=>{O(!1)}),5e3))}),[L]),(0,n.useEffect)((()=>{C(t).then((e=>{if(e.success){const e=T(t);e||_("/"),F(e)}}))}),[]);const N=(0,n.useCallback)((async e=>{w({title:"Are you sure?",content:"Please confirm you want to clone this exercise in your private library."}).then((e=>{e&&P(t).then((e=>{e.success&&(R(e.message,{variant:"success"}),v.layout().triggerItemsRefresh(),_(`/${b.handle}/library/exercises`))}))}))}),[w,z]);return z?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(l.Z,{children:(0,r.jsxs)(c.Z,{display:"flex",children:[(0,r.jsx)(c.Z,{flex:1,children:(0,r.jsx)(o.Z,{sx:{fontSize:3},children:"Exercise"})}),(0,r.jsx)(c.Z,{children:(0,r.jsxs)(u.Z,{children:[b&&z&&e&&s&&(0,r.jsx)(d.r,{variant:"default",size:"small",onClick:()=>_(`/${e}/${s}/exercise/${z.id}`),children:"Edit"}),b&&z&&$&&(0,r.jsx)(d.r,{variant:"default",size:"small",leadingVisual:x.jcu,onClick:N,children:"Clone"})]})})]})}),(0,r.jsxs)(c.Z,{children:[(0,r.jsx)(h.Z,{children:z.name}),(0,r.jsx)(h.Z,{as:"p",color:"fg.muted",bg:"neutral.muted",p:2,children:z.description})]}),(0,r.jsx)(c.Z,{children:(0,r.jsx)(g.r,{showEditor:!0,autoRun:!1,disableRun:!1,kernel:G,id:V,codePre:z.codePre,code:z.codeQuestion,receipt:H})}),(0,r.jsxs)(c.Z,{display:"flex",gridGap:3,pt:2,pb:2,children:[(0,r.jsx)(c.Z,{children:(0,r.jsx)(d.r,{variant:"danger",leadingVisual:x.UOT,onClick:e=>{e.preventDefault(),q(!I)},children:"Show help"})}),(0,r.jsx)(c.Z,{children:(0,r.jsx)(d.r,{variant:"default",leadingVisual:x.bnu,onClick:e=>{e.preventDefault(),k.setExecuteRequest(V,z.codeQuestion)},children:"Reset"})})]}),I&&(0,r.jsx)(h.Z,{as:"p",color:"danger.fg",p:2,children:z.help??"No help available."}),(0,r.jsxs)(c.Z,{children:[(0,r.jsx)(d.r,{variant:"default",leadingVisual:x.Zi2,sx:{marginTop:2,marginBottom:2},onClick:e=>{e.preventDefault(),k.setExecuteRequest(V,`\nsetup_state(stu_code = """${z.codePre}\n${Y}""", sol_code = """${z.codePre}\n${z.codeSolution}""")\n${z.codeTest}\nfrom IPython.core.display import HTML\nHTML('<div style="display: none">You have passed the exercise! Your receipt is ${H}</div><h1>ðŸŽ‰ Success!</h1>')\n`)},children:"Validate your solution"}),(0,r.jsx)(h.Z,{as:"p",color:"fg.onEmphasis",bg:"neutral.emphasis",p:2,children:"Validate your solution with this button."})]}),D&&(0,r.jsx)(m.xP,{})]}):(0,r.jsx)(r.Fragment,{})},k=v}}]);