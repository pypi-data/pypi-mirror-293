"use strict";(self.webpackChunk_datalayer_core=self.webpackChunk_datalayer_core||[]).push([[9988],{19988:(e,s,n)=>{n.r(s),n.d(s,{ExercisePublic:()=>v,default:()=>b});var t=n(4565),r=n(89456),i=n(17168),a=n(41237),l=n(36088),c=n(66578),o=n(83773),d=n(43429),u=n(52333),h=n(20398),x=n(34441),p=n(58783),f=n(1990),g=n(3135),j=n(13707),m=n(22121),Z=n(91899),y=n(78584);const v=()=>{const{exerciseId:e}=(0,i.UO)();if(!e)return(0,t.jsx)(t.Fragment,{});const s=(0,y.qX)(),n=(0,p.gQ)(),v=(s.layout().organization,s.iam().user),{kernelManager:b,defaultKernel:k}=(0,f.W$)(),{refreshExercise:E,getExercise:$,cloneExercise:S}=(0,Z.YT)(),C=(0,Z.s0)(),T=(0,a.N)(),{enqueueToast:w}=(0,Z.pm)(),[P]=(0,r.useState)("exercise-student"),[_,I]=(0,r.useState)(!1),[V,z]=(0,r.useState)(),[R,M]=(0,r.useState)((0,g.ZI)()),[q,D]=(0,r.useState)(!1),F=n.getInput(P),Q=(0,r.useMemo)((()=>k),[b]),Y=n.getGradeSuccess(P);(0,r.useEffect)((()=>{Y&&(D(Y),setTimeout((()=>{D(!1)}),5e3))}),[Y]),(0,r.useEffect)((()=>{E(e).then((s=>{if(s.success){const s=$(e);s||C("/"),z(s)}}))}),[]);const G=(0,r.useCallback)((async n=>{T({title:"Are you sure?",content:"Please confirm you want to clone this exercise in your private library."}).then((n=>{n&&S(e).then((e=>{e.success&&(w(e.message,{variant:"success"}),s.layout().triggerItemsRefresh(),C(`/${v.handle}/library/exercises`))}))}))}),[T,V]);return V?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(l.Z,{children:(0,t.jsxs)(c.Z,{display:"flex",children:[(0,t.jsx)(c.Z,{flex:1,children:(0,t.jsx)(o.Z,{sx:{fontSize:3},children:"Exercise"})}),(0,t.jsx)(c.Z,{children:(0,t.jsxs)(d.Z,{children:[v&&V&&(0,t.jsx)(u.r,{variant:"default",size:"small",onClick:()=>C(`/${V.organization?.handle??V.owner?.handle}/${V.space?.handle}/exercise/${V.id}`),children:"Edit"}),v&&V&&(0,t.jsx)(u.r,{variant:"default",size:"small",leadingVisual:x.jcu,onClick:G,children:"Clone"})]})})]})}),(0,t.jsxs)(c.Z,{children:[(0,t.jsx)(h.Z,{children:V.name}),(0,t.jsx)(h.Z,{as:"p",color:"fg.muted",bg:"neutral.muted",p:2,children:V.description})]}),(0,t.jsx)(c.Z,{children:(0,t.jsx)(j.r,{showEditor:!0,autoRun:!1,disableRun:!1,kernel:Q,id:P,codePre:V.codePre,code:V.codeQuestion,receipt:R})}),(0,t.jsxs)(c.Z,{display:"flex",gridGap:3,pt:2,pb:2,children:[(0,t.jsx)(c.Z,{children:(0,t.jsx)(u.r,{variant:"danger",leadingVisual:x.UOT,onClick:e=>{e.preventDefault(),I(!_)},children:"Show help"})}),(0,t.jsx)(c.Z,{children:(0,t.jsx)(u.r,{variant:"default",leadingVisual:x.bnu,onClick:e=>{e.preventDefault(),n.setInput(P,V.codeQuestion)},children:"Reset"})})]}),_&&(0,t.jsx)(h.Z,{as:"p",color:"danger.fg",p:2,children:V.help??"No help available."}),(0,t.jsxs)(c.Z,{children:[(0,t.jsx)(u.r,{variant:"default",leadingVisual:x.Zi2,sx:{marginTop:2,marginBottom:2},onClick:e=>{e.preventDefault(),n.setExecuteRequest(P,`\nsetup_state(stu_code = """${V.codePre}\n${F}""", sol_code = """${V.codePre}\n${V.codeSolution}""")\n${V.codeTest}\nfrom IPython.core.display import HTML\nHTML('<div style="display: none">You have passed the exercise! Your receipt is ${R}</div><h1>ðŸŽ‰ Success!</h1>')\n`)},children:"Validate your solution"}),(0,t.jsx)(h.Z,{as:"p",color:"fg.onEmphasis",bg:"neutral.emphasis",p:2,children:"Validate your solution with this button."})]}),q&&(0,t.jsx)(m.Z,{})]}):(0,t.jsx)(t.Fragment,{})},b=v}}]);