"use strict";(self.webpackChunk_datalayer_core=self.webpackChunk_datalayer_core||[]).push([[4871],{24871:(e,o,t)=>{t.r(o),t.d(o,{NotebookPublic:()=>u,default:()=>h});var a=t(74512),n=t(83887),s=t(99608),l=t(71082),r=t(23189),i=t(58497),c=t(43712),d=t(42799);const u=()=>{const e=(0,d.qX)(),o=(0,i.useNotebookStore)(),t=e.iam().user,u=e.layout().space,{notebookId:h}=(0,s.UO)();if(!h)return(0,a.jsx)(a.Fragment,{});const{refreshNotebook:x,getNotebook:b,cloneNotebook:k}=(0,c.YT)(),f=(0,c.s0)(),y=(0,l.useConfirm)(),{enqueueToast:j}=(0,c.pm)(),[m,p]=(0,n.useState)();(0,n.useEffect)((()=>(e.layout().showBackdrop(),x(h).then((e=>{if(e.success){const e=b(h);e||f("/"),p(e)}})).finally((()=>{e.layout().hideBackdrop()})),()=>{p(void 0),o.reset(),e.layout().setItem(void 0)})),[h]);const g=(0,n.useCallback)((async o=>{y({title:"Are you sure?",content:"Please confirm you want to clone this notebook in your private library."}).then((o=>{o&&(e.layout().showBackdrop(),k(h).then((o=>{o.success&&(j(o.message,{variant:"success"}),e.layout().triggerItemsRefresh(),f(`/${t?.handle}/library/notebooks`))})).finally((()=>{e.layout().hideBackdrop()})))}))}),[y,m]);return m?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(l.Pagehead,{children:(0,a.jsxs)(l.Box,{display:"flex",children:[(0,a.jsx)(l.Box,{flex:1,children:(0,a.jsx)(l.Heading,{sx:{fontSize:3},children:"Public notebook"})}),(0,a.jsx)(l.Box,{children:(0,a.jsxs)(l.ButtonGroup,{children:[m&&t?.handle===m.owner.handle&&(0,a.jsx)(l.Button,{variant:"invisible",size:"small",onClick:()=>f(`/${m.organization?.handle??m.owner?.handle}/${m.space?.handle}/notebook/${m.id}`),children:"Edit"}),t&&u&&(0,a.jsx)(l.Button,{variant:"default",size:"small",leadingVisual:r.jcu,onClick:g,children:"Clone"})]})})]})}),(0,a.jsx)(l.Box,{children:(0,a.jsx)(l.Text,{children:m.description})}),(0,a.jsx)(l.Box,{children:m.nbformat&&(0,a.jsx)(i.Notebook,{id:h,height:"calc(100vh - 240px)",maxHeight:"calc(100vh - 240px)",nbformat:m.nbformat,readOnly:!1,cellMetadataPanel:!1,CellSidebar:i.CellSidebarRun})})]}):(0,a.jsx)(a.Fragment,{})},h=u}}]);