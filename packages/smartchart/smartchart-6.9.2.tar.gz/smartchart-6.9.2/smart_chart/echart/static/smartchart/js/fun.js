eval(function(p,a,c,k,e,r){e=function(c){return(c<62?'':e(parseInt(c/62)))+((c=c%62)>35?String.fromCharCode(c+29):c.toString(36))};if('0'.replace(0,e)==0){while(c--)r[e(c)]=k[c];k=[function(e){return r[e]||e}];e=function(){return'([5-79ftB-LN-RT-Y]|[1-5]\\w)'};c=1};while(c--)if(k[c])p=p.replace(new RegExp('\\b'+e(c)+'\\b','g'),k[c]);return p}('6 3A(E,22){5 i=E.f;3B(i--){7(E[i]===22){9 J}}9 K}6 ds_transform(t){5 12=[];B(5 i=0;i<t[1].f;i++){12[i]=[]}B(5 i=0;i<t.f;i++){B(5 j=0;j<t[i].f;j++){12[j][i]=t[i][j]}}9 12}6 ds_split(C,2N=\',\',2O=[]){5 t=[];7(2O){t.F(2O.13(C[0].I(1)))}L{t.F(C[0][0].1r(2N).13(C[0].I(1)))}B(5 i=1;i<C.f;i++){t.F(C[i][0].1r(2N).13(C[i].I(1)))}9 t}6 ds_rowname(t,3C=1,W=0){5 12=[];B(5 i=3C;i<t.f;i++){12.F(t[i][W])}9 12}6 ds_remove_column(t,3D=[0]){5 12=[];B(5 i=0;i<t.f;i++){12[i]=[]}B(5 i=0;i<t.f;i++){5 k=0;B(5 j=0;j<t[i].f;j++){7(3A(3D,j)===K){12[i][k]=t[i][j];k=k+1}}}9 12}6 ds_createMap(C){5 1J={};B(5 i=0;i<C.f;i++){7(C[i][0].f>0){1J[C[i][0]]=C[i].I(1)}}9 1J}6 3E(C){5 t=[];5 2j={};B(5 i=1;i<C.f;i++){2j={};B(5 j=0;j<C[i].f;j++){2j[C[0][j]]=C[i][j]}t.F(2j)}9 t}6 ds_mapToList(C){5 1K=3F.3G(C[0]);5 t=[];5 2k;t.F(1K);B(5 i=0;i<C.f;i++){2k=[];B(5 j=0;j<1K.f;j++){2k.F(C[i][1K[j]])}t.F(2k)}9 t}6 addWaterMarker(1s){5 1d=1t.3H(\'canvas\');5 2l=1t.2l;2l.appendChild(1d);1d.3I=400;1d.3J=2m;1d.2n.display=\'none\';5 1u=1d.getContext(\'2d\');1u.rotate(-20*1v.PI/180);1u.font="16px Microsoft JhengHei";1u.fillStyle="3K(17, 17, 17, 0.50)";1u.textAlign=\'left\';1u.textBaseline=\'Middle\';1u.fillText(1s,1d.3I/3,1d.3J/2);2l.2n.backgroundImage="19("+1d.toDataURL("image/png")+")"}6 ds_toThousands(O){O=(O||0).2P();5 G=\'\';5 1a=O<0?"-":"";5 C=(1v.abs(O)+"").1r(\'\\.\');O=C[0];3B(O.f>3){G=\',\'+O.I(-3)+G;O=O.I(0,O.f-3)}7(O){G=O+G}7(C.f===1){9 1a+G}9 1a+G+\'.\'+C[1]}6 ds_percentAcc(X,Q){5 1L=0,i=1;B(i=1;i<X[Q].f;i++){1L+=X[Q][i]}5 2Q=[X[Q][0]+\'_acc\'];5 2o=0;B(i=1;i<X[Q].f;i++){2o=2o+X[Q][i];2Q.F(1v.round(2o/1L*2p)/2p)}X.F(2Q);9 X}6 ds_sumColumn(X,W){5 1L=0;B(5 i=1;i<X.f;i++){1L+=X[i][W]}9 1L}6 ds_distinct(a,b=[]){5 E=a.13(b);5 G=[];5 22={};B(5 i=0;i<E.f;i++){7(!22[E[i]]){G.F(E[i]);22[E[i]]=1}}9 G}6 ds_pivot(E,1w=T,W=T,1M=T){5 G=[];5 2R=1e 3L();5 2q=1e 3L();1w=1w||[...2S(E[1].f-2).3G()];W=W||E[1].f-2;1M=1M||E[1].f-1;B(5 i=1;i<E.f;i++){5 1N=1w.1J(j=>E[i][j]).23(";");5 24=E[i][W];2R.3M(1N);2q.3M(24)}5 2T=1w.1J(j=>E[0][j]);B(5 24 of 2q){2T.F(24)}G.F(2T);B(5 1N of 2R){5 2U=1N.1r(";");B(5 24 of 2q){2U.F(0)}G.F(2U)}5 2V=1e Map();G.2r((Q,14)=>{7(14>0){5 1N=Q.I(0,1w.f).23(";");2V.set(1N,14)}});B(5 i=1;i<E.f;i++){5 3N=1w.1J(j=>E[i][j]).23(";");5 3O=E[i][W];5 3P=G[0].indexOf(3O);5 3Q=2V.1O(3N);G[3Q][3P]=E[i][1M]}9 G}6 2W(a,b,1k=J,R=1){5 c=[];5 1P=[];5 1a=K;B(5 i=1;i<b[0].f;i++){1P.F(0)}7(1k){c.F(a[0].13(b[0].I(1)));a=a.I(1);b=b.I(1)}a.2r(6(2s){1a=J;b.2r(6(1x){7(2s[0]===1x[0]){c.F(2s.13(1x.I(1)));1a=K}});7(1a&&R){c.F(2s.13(1P))}});7(R===2){1P=[];B(5 i=1;i<a[0].f;i++){1P.F(0)}b.2r(6(1x){1a=J;B(5 i=0;i<a.f;i++){7(a[i][0]===1x[0]){1a=K;break}}7(1a){c.F([1x[0]].13(1P).13(1x.I(1)))}})}9 c}6 ds_crossjoin(a,b,1k=J){9 2W(a,b,1k,0)}6 ds_fulljoin(a,b,1k=J){9 2W(a,b,1k,2)}6 ds_union(a,b,1k=J){5 c;7(1k){c=a.13(b.I(1))}L{c=a.13(b)}9 c}6 ds_round(O,3R=2){9 O.toFixed(3R)}6 Decimal(1s){9 parseFloat(1s)}6 3S(){1b.3T=6(y,m,d,hh=0,mm=0,s=0,ss=0){9\'\'+y+\'-\'+m+\'-\'+d};1b.date=6(y,m,d,hh=0,mm=0,s=0,ss=0){9\'\'+y+\'-\'+m+\'-\'+d}}1l 3T=1e 3S;1l None=T;1l False=K;1l True=J;6 startSelectAnimate(1c,3X,2t=2p,3Y=1){5 1Q=-1;3Z(6(){1c.1R({R:\'2X\',U:0,P:1Q});1Q=(1Q+1)%3X;1c.1R({R:\'2Y\',U:0,P:1Q});7(3Y){1c.1R({R:\'showTip\',U:0,P:1Q})}},2t)}6 dismissChangeRelatedObjectPopup(40,objId,newRepr,41){40.close();1g.1y(41);42.reload()}6 clickaction(1c,H=\'\'){5 43=`1l U${H}=-1;1l P${H}=-1;1c.on(\'45\',6(1m){1c.1R({R:\'2X\',U:U${H},P:P${H}});5 2Z=\'2Y\';7(U${H}===1m.30&&P${H}===1m.P){U${H}=-1;P${H}=-1;2Z=\'2X\'}L{U${H}=1m.30;P${H}=1m.P}1c.1R({R:2Z,U:1m.30,P:1m.P})});1c.on(\'mouseout\',6(1m){7(U${H}>-1){1c.1R({R:"2Y",U:U${H},P:P${H}})}});`;1S(43)}6 ds_refresh(46,18){7("Y"!=V 1n){18=18||1n}5 2u=\'&18=\'+31.32(18);1S(`O0OO${46}(\\`${2u}\\`)`)}6 ds_scroll(D,2t=2p,33=10){1h 1T=1t.querySelector(D);1T.2n.overflowY=\'hidden\';5 2v=0;1h 47=()=>{1T.48+=33;2v+=33;7(2v>=1T.scrollHeight-1T.clientHeight){2v=0;1T.48=0}};3Z(47,2t)}6 ds_liMarquee(D,1i=T){2w(\'49\');1U(\'49\');7(1i===T){1i={1o:2x,1z:3000,1V:{4a:\'up\',runshort:K,scrollamount:20}}}6 4b(){5 2y=$(D);5 1o=2x,1z;7(1i.2z(\'1o\')){1o=1i[\'1o\']}7(1i.2z(\'1z\')){1z=1i[\'1z\']}L{1z=1o}5 1V={};7(1i.2z(\'1V\')){1V=1i[\'1V\']}6 34(){2y.35(\'play\');25(4c,1o)}6 4c(){2y.35(\'pause\');25(34,1z)}2y.35(1V);7(1o>2x){1A{34()}1B{1g.1y(\'no need scroll\')}}}25(4b,2m)}6 ds_swiper(D,2A={}){2w(\'4d\');1U(\'4d\');25(4e,2m);6 4e(){2A=3F.assign({4a:\'horizontal\',autoplay:J,},2A);1e Swiper(D,2A)}}6 echartClicklog(18){1A{1S(\'2B\');1g.1y({"C":18.C,"D":18.D,"4f":18.4f})}1B{1g.1y(18)}}6 1U(D,4g=K){5 19=D;7(D.f<20){19=`/1C/27/2C/${D}.js`;7(4g){2D()}L{1A{1S(D)}1B{2D()}}}L{2D()}6 2D(){$.1O({29:K,2E:J,19:19,2a:"36",})}}6 2w(D){7(D.f<20){1A{1S(D)}1B{$(\'1K\').2b(`<1W 2F="/1C/27/2C/${D}.2c"4h="4i"R="37/2c"/>`)}}L{$(\'1K\').2b(`<1W 2F="${D}"4h="4i"R="37/2c"/>`)}}6 ds_loadpivot(){7(V 4j===\'Y\'){2w(\'/1C/1D/2e/2e.2c\');1U(\'/1C/1D/2e/jquery-ui.min.js\');1U(\'/1C/1D/2e/2e.js\');1l 4j=0}}1A{4k()}1B{1g.1y(\'ohh\')}6 4k(){7(V 2G===\'Y\'){9}7(!2G.2z(\'l\')){9}5 38=2G[\'l\'];5 4l=2G[\'m\'];7(38){5 4m=window.42.2F;$.39(\'https://www.27.cn/smartdata/smartchartauth2/\',{l:38,u:4m,v:4l},6(C){7(C.4n==2){$.1O(\'/1D/rf/\',C)}})}}1l 3a=T;6 logErr(H,e){7(3a===T){1g.4o(e)}L{1g.4o(`序号:${H}>>${e.message}`)}}6 3b(N){7(3a!==T){1A{1S(\'2B\')}1B{1U(\'2B\');2B.init({bgColor:\'3K(61, 59, 59, 0.79)\'})}1g.1y(N)}}6 ds_excel_upload(H,t,1X,2f){7(V(2g)=="Y"){dom.innerHTML=\'<h2>保存后在仪表盘中开发</h2>\';9}7(V 11===\'Y\'){$.1O({29:K,2E:J,19:`/1C/27/2C/11/smt_excel.js`,2a:"36"})}1X=1X||{4q:J,dev_mode:J,allowEdit:J};4r(H,t,1X);7(1X.4q===J){9}7(!2f){2f=\'4s-2H\';7(!1t.3c(2f)){$(\'#4t\'+H).2b(\'<input 2n="position: absolute;z-14: 2x;bottom: 0" R="2H" id="4s-2H">\')}}5 4u=1t.3c(2f);4u.addEventListener("change",6(4v){5 1E=4v.target.1E;7(1E==T||1E.f==0){3e("No 1E wait B import");9}5 D=1E[0].D;5 3f=D.1r("."),4w=3f[3f.f-1];7(4w!=="4x"){3e("仅支持导入4x文件");9}7(V 4y===\'Y\'){$.1O({29:K,2E:J,19:`/1C/27/2C/11/dist/luckyexcel.umd.js`,2a:"36"})}4y.transformExcelToLucky(1E[0],6(2I,luckysheetfile){7(2I.3g==T||2I.3g.f==0){3e("无法读取, 不支持 xls!");9}1F=Y;4r(H,t,1X,2I.3g)})})}6 ds_excel_refresh(t){7(V(11)=="Y"){9}5 df={};5 N,i,j,c;25(()=>{4z=[];7(!1F){1F=11.4A("#df")}L{5 3h=11.4A("#df");7(3h){B(N of 3h){i=1;B(c of 1F){7(N.Q===c.Q&&N.W===c.W){c.v=N.v;i=0}}7(i){1F.F(N)}}}}7(1F.f>0){B(N in t){df[N]=3E(t[N])}B(N of 1F){i=N.Q;j=N.W;5 v=N.v;v=v.I(1).1G(/\\s*/g,"").1r(\'.\');5 3i=J;5 D=v[1];7(D.I(-2)===\'__\'){3i=K;D=D.1G(\'__\',\'\')}5 1Y=T;7(D.I(-1)===\'!\'){1Y=N.c;D=D.1G(\'!\',\'\')}1A{B(c of df[v[0]]){7(1Y){1Y.v=c[D];1Y.m=c[D];11.4D(i,j,1Y)}L{11.4D(i,j,c[D])}4z.F([i,j]);7(3i){i=i+1}L{j=j+1}}}1B(e){3b(\'max f exceeded\')}}$(\'#11-icon-3j\').2c(\'color\',\'red\')}},300)}6 ds_excel_value(4E,4F=K){7(V(11)=="Y"){9[]}6 4G(a){5 1s=a.toLowerCase().1r("");5 al=1s.f;5 4H=6(4I){9 4I.charCodeAt()-96};5 3l=0;5 3m=0;B(5 i=0;i<al;i++){3m=4H(1s[i]);3l+=3m*1v.pow(26,al-i-1)}9 3l}5 2J,c,r;5 3n=[];B(2J of 4E){c=4G(2J.4J(/^[a-z|A-Z]+/gi)[0])-1;r=2J.4J(/\\d+$/gi)[0]-1;3n.F(11.getCellValue(r,c)||\'\');7(4F){11.clearCell(r,c)}}9 3n}6 ds_save(H,1p,3o=0){7(V(2g)=="Y"){3b(\'X 3j\');9{\'4n\':2m,\'msg\':\'dev 3j\'}}5 G=\'\';$.39({19:"/1D/dataset_save/",29:K,C:{H:H,2g:2g,t:31.32(1p),3o:3o},3p:6(C){G=C}});9 G}6 ds_download(D,1p){7(V 1p!==\'string\'){5 1q=[];B(5 i=0;i<1p.f;i++){1q.F(1p[i].2P())}1p=1q.23(\'\\n\')}5 4L=\'C:37/csv; charset=utf-8,\\ufeff\'+encodeURIComponent(1p);5 1W=1t.3H("a");1W.2F=4L;1W.download=D;1W.45()}6 ds_param(D){7("Y"!=V 1n){9 1n[D]}L{9\'\'}}6 ds_setParam(3q,3r){7("Y"!=V 1n){7(3r){1n[3q]=3r}L{delete 1n[3q]}}}6 O0(u,c,p,4M,a,s){7(p){5 2u=4M||(\'&18=\'+31.32(1n)+c);u=u+2u}$.4N({R:"1O",29:a,19:\'/1D/get_dataset_api/?EmbedToken=\'+u,2a:\'4O\',3p:s})}6 O0O(id){9 1t.3c("4t"+id)}6 ds_sort(E,14=0,4P=J){5 1Z;5 d;7(V 14==\'6\'){1Z=14}L{7(4P){1Z=(a,b)=>{9 a[14]-b[14]}}L{1Z=(a,b)=>{9 b[14]-a[14]}}}7(E[0]4Q 2S){d=E.I(1);d.4R(1Z).2K(E[0])}L{d.4R(1Z)}9 d}6 ds_filter(t,3s){7(t.f<2){9 t}5 1q;7(t[0]4Q 2S){1q=t.I(1).4S(3s);1q.2K(t[0])}L{1q=t.4S(3s)}9 1q}6 ds_uploadfile(4T,4U,3t=T){5 2L=1e FormData();2L.2b("2H",4T,4U);2L.2b(\'typename\',2g);$.4N({19:\'/1D/upload_file/\',C:2L,R:"39",2a:\'4O\',2E:K,contentType:K,processData:K,3p:6(C){1g.1y(C);7(3t){3t(C)}}})}6 ds_generateLastDay(n=15,3u=\'-\'){5 21=1e 3v();5 2M=[],3w,1H,1I;B(5 i=0;i<n;i++){3w=21.4V();1H=21.3x()+1;1I=21.3y();1H=1H<10?\'0\'+1H:1H;1I=1I<10?\'0\'+1I:1I;2M.2K([3w+3u+1H+3u+1I]);21.setDate(21.3y()-1)}2M.2K([\'zymd\']);9 2M}6 ds_generateUUID(){5 d=1e 3v().getTime();5 4W=\'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx\'.1G(/[xy]/g,6(c){5 r=(d+1v.random()*16)%16|0;d=1v.4X(d/16);9(c==\'x\'?r:(r&0x3|0x8)).2P(16)});9 4W}3v.prototype.1j=6(1j){5 o={"M+":1b.3x()+1,"d+":1b.3y(),"h+":1b.getHours(),"m+":1b.getMinutes(),"s+":1b.getSeconds(),"q+":1v.4X((1b.3x()+3)/3),"S":1b.getMilliseconds()};7(/(y+)/.4Y(1j)){1j=1j.1G(2i.$1,(1b.4V()+"").4Z(4-2i.$1.f));B(5 k in o){7(1e 2i("("+k+")").4Y(1j)){1j=1j.1G(2i.$1,2i.$1.f==1?o[k]:("00"+o[k]).4Z((""+o[k]).f))}}}9 1j};6 ds_formatArray(E,51){1h 3z=E[0];1h 52=E.I(1);1h 53=/\\$(\\w+)/g;1h G=[];B(1h 1M of 52){1h Q={};B(5 i=0;i<3z.f;i++){Q[3z[i]]=1M[i]}1h 54=51.1G(53,(_,55)=>Q[55]);G.F(54)}9 G.23("\\n")}',[],316,'|||||let|function|if||return||||||length||||||||||||||dataset||||||||for|data|name|arr|push|result|seq|slice|true|false|else||item|num|dataIndex|row|type||null|seriesIndex|typeof|column|ds|undefined|||luckysheet|seted|concat|index||||param|url|flag|this|myChart|can|new||console|const|marconfig|format|withhead|var|params|filter_param|playtime|contents|tmp|split|str|document|cans|Math|indexs|val2|log|pausetime|try|catch|static|echart|files|dfcells|replace|month|day|map|head|totalqty|value|indexValue|get|blank|currentIndex|dispatchAction|eval|container|ds_loadjs|config|link|option|formatDict|sortfun||currentDate|obj|join|columnValue|setTimeout||smartchart||async|dataType|append|css||pivot|id_input|dashid||RegExp|tmpmap|tmplist|body|200|style|addqty|1000|columnMap|forEach|val|interval|myparam|scrollAmount|ds_loadcss|100|_this|hasOwnProperty|swconfig|smt_log|opt|_loadjs|cache|href|dsDict|file|exportJson|cell|unshift|formData|dateArray|sep|head_add|toString|qtypercent|indexMap|Array|firstRow|newRow|indexValueToRowIndexMap|ds_leftjoin|downplay|highlight|acttype|componentIndex|JSON|stringify|step|startScroll|liMarquee|script|text|vmac|post|console_flag|print|getElementById||alert|suffixArr|sheets|tmpdfcells|vFlag|save||numout|charnum|content|update|success|paramName|paramValue|fun|callback|joinChat|Date|year|getMonth|getDate|header|lst_contains|while|start_row|remove_list|ds_createMap_all|Object|keys|createElement|width|height|rgba|Set|add|rowIndex|columnIndex|valueIndex|rowIndexInResult|qty|Mytime|datetime||||dataLen|showtip|setInterval|win|newId|location|actionstr||click|ds_id|scrollTable|scrollTop|smt_liMarquee|direction|init_liMarquee|pauseScroll|smt_swiper|init_swiper|seriesName|force|rel|stylesheet|smt_pivot|lcheck|vflag|vurl|status|error||view|ds_excel|Luckyexcel|container_|upload|evt|suffix|xlsx|LuckyExcel|dfcells2|find|||setCellValue|fillCells|clear|stringTonum|getCharNumber|charx|match||uri|OOO|ajax|json|asc|instanceof|sort|filter|blob|filename|getFullYear|uuid|floor|test|substr||formatStr|values|regex|formattedStr|key'.split('|'),0,{}))