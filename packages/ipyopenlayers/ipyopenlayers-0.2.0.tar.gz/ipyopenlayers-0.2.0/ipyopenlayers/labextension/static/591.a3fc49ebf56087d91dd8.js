(self.webpackChunkipyopenlayers=self.webpackChunkipyopenlayers||[]).push([[591],{8507:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BaseControlView=t.BaseControlModel=void 0,o(6791),o(890);const i=o(3983);o(6791);const s=o(1797);o(890);class l extends i.DOMWidgetModel{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:l.model_name,_model_module:l.model_module,_model_module_version:l.model_module_version,_view_name:l.view_name,_view_module:l.view_module,_view_module_version:l.view_module_version})}}t.BaseControlModel=l,l.serializers=Object.assign({},i.DOMWidgetModel.serializers),l.model_name="BaseControlModel",l.model_module=s.MODULE_NAME,l.model_module_version=s.MODULE_VERSION,l.view_name="BaseControlView",l.view_module=s.MODULE_NAME,l.view_module_version=s.MODULE_VERSION;class n extends i.DOMWidgetView{render(){super.render(),this.createObj()}}t.BaseControlView=n},626:function(e,t,o){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.BaseOverlayView=t.BaseOverlayModel=void 0;const s=o(3983);o(6791);const l=o(1797);o(890);const n=i(o(5378));class d extends s.DOMWidgetModel{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:d.model_name,_model_module:d.model_module,_model_module_version:d.model_module_version,_view_name:d.view_name,_view_module:d.view_module,_view_module_version:d.view_module_version})}}t.BaseOverlayModel=d,d.serializers=Object.assign({},s.DOMWidgetModel.serializers),d.model_name="BaseOverlayModel",d.model_module=l.MODULE_NAME,d.model_module_version=l.MODULE_VERSION,d.view_name="BaseOverlayView",d.view_module=l.MODULE_NAME,d.view_module_version=l.MODULE_VERSION;class a extends s.DOMWidgetView{render(){super.render(),this.createElement(),this.createOverlay(),this.model_events()}createOverlay(){const e=this.model.get("position");return this.overlay=new n.default({position:e,element:this.element}),this.overlay}model_events(){this.listenTo(this.model,"change:position",this.updatePosition)}updatePosition(){const e=this.model.get("position");this.overlay.setPosition(e)}}t.BaseOverlayView=a},832:function(e,t,o){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.FullScreenView=t.FullScreenModel=void 0;const s=o(3983),l=o(8507),n=i(o(251));o(6791);const d=o(1797);o(890);class a extends l.BaseControlModel{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:a.model_name,_model_module:a.model_module,_model_module_version:a.model_module_version,_view_name:a.view_name,_view_module:a.view_module,_view_module_version:a.view_module_version})}}t.FullScreenModel=a,a.serializers=Object.assign({},s.DOMWidgetModel.serializers),a.model_name="FullScreenModel",a.model_module=d.MODULE_NAME,a.model_module_version=d.MODULE_VERSION,a.view_name="FullScreenView",a.view_module=d.MODULE_NAME,a.view_module_version=d.MODULE_VERSION;class r extends l.BaseControlView{createObj(){this.obj=new n.default({className:"ol-full-screen"})}}t.FullScreenView=r},7238:function(e,t,o){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.OpenLayersGeoJSONView=t.OpenLayersGeoJSONModel=void 0;const s=o(3983);o(6791);const l=o(1797);o(890);const n=i(o(895)),d=o(6363),a=o(2604),r=o(2037),m=o(2248);class u extends m.LayerModel{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:u.model_name,_model_module:u.model_module,_model_module_version:u.model_module_version,_view_name:u.view_name,_view_module:u.view_module,_view_module_version:u.view_module_version,layers:[]})}}t.OpenLayersGeoJSONModel=u,u.serializers=Object.assign({},s.DOMWidgetModel.serializers),u.model_name="OpenLayersGeoJSONModel",u.model_module=l.MODULE_NAME,u.model_module_version=l.MODULE_VERSION,u.view_name="OpenLayersGeoJSONView",u.view_module=l.MODULE_NAME,u.view_module_version=l.MODULE_VERSION;class _ extends m.LayerView{constructor(){super(...arguments),this.invisibleStyle=new d.Style({fill:new d.Fill({color:"rgba(0, 0, 0, 0)"}),stroke:new d.Stroke({color:"rgba(0, 0, 0, 0)",width:0})})}render(){this.initVectorLayer(),this.create_obj(),this.modelEvents()}create_obj(){this.obj=this.vectorLayer}initVectorLayer(){this.vectorSource=new a.Vector({features:(new n.default).readFeatures(this.model.get("data"))}),this.vectorLayer=new r.Vector({source:this.vectorSource,style:this.createStyleFunction()})}createStyleFunction(){const e=this.model.get("style")||{};return t=>new d.Style({stroke:new d.Stroke({color:e.strokeColor||"#3399CC",width:e.strokeWidth||1.25}),fill:new d.Fill({color:e.fillColor||"rgba(255, 255, 255, 0.4)"}),image:new d.Circle({radius:e.pointRadius||5,fill:new d.Fill({color:e.pointFillColor||"#FF0000"}),stroke:new d.Stroke({color:e.pointStrokeColor||"#000000",width:e.pointStrokeWidth||1})})})}updateStyle(){this.vectorLayer.setStyle(this.createStyleFunction())}updateVisibility(){const e=this.model.get("visible");this.vectorSource.getFeatures().forEach((t=>{t.setStyle(e?void 0:this.invisibleStyle)}))}updateData(){this.vectorSource.clear(),this.vectorSource.addFeatures((new n.default).readFeatures(this.model.get("data")))}modelEvents(){this.listenTo(this.model,"change:style",this.updateStyle),this.listenTo(this.model,"change:data",this.updateData),this.listenTo(this.model,"change:visible",this.updateVisibility)}}t.OpenLayersGeoJSONView=_},6050:function(e,t,o){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.GeoTIFFTileLayerView=t.GeoTIFFTileLayerModel=void 0;const s=o(3983),l=i(o(1725)),n=i(o(1291)),d=o(1797),a=o(2248);class r extends a.LayerModel{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:r.model_name,_model_module:r.model_module,_model_module_version:r.model_module_version,_view_name:r.view_name,_view_module:r.view_module,_view_module_version:r.view_module_version,url:""})}}t.GeoTIFFTileLayerModel=r,r.serializers=Object.assign({},s.DOMWidgetModel.serializers),r.model_name="GeoTIFFTileLayerModel",r.model_module=d.MODULE_NAME,r.model_module_version=d.MODULE_VERSION,r.view_name="GeoTIFFTileLayerView",r.view_module=d.MODULE_NAME,r.view_module_version=d.MODULE_VERSION;class m extends a.LayerView{render(){super.render(),this.sourcesChanged(),this.model.on("change:url",this.sourcesChanged,this)}create_obj(){const e=this.model.get("url");e&&(this.obj=new l.default({source:new n.default({sources:[{url:e}]})}))}sourcesChanged(){const e=this.model.get("url");if(e){const t=new n.default({sources:[{url:e}]});this.obj.setSource(t)}}}t.GeoTIFFTileLayerView=m},4721:function(e,t,o){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.HeatmapLayerView=t.HeatmapLayerModel=void 0;const s=o(2248),l=o(1797),n=i(o(2924)),d=o(2604),a=i(o(2772)),r=i(o(1117));class m extends s.LayerModel{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:m.model_name,_model_module:m.model_module,_model_module_version:m.model_module_version,_view_name:m.view_name,_view_module:m.view_module,_view_module_version:m.view_module_version,blur:15,radius:8,points:[]})}}t.HeatmapLayerModel=m,m.serializers=Object.assign({},s.LayerModel.serializers),m.model_name="HeatmapLayerModel",m.model_module=l.MODULE_NAME,m.model_module_version=l.MODULE_VERSION,m.view_name="HeatmapLayerView",m.view_module=l.MODULE_NAME,m.view_module_version=l.MODULE_VERSION;class u extends s.LayerView{render(){this.create_obj(),this.modelEvents()}create_obj(){const e=new d.Vector({features:this.model.get("points").map((e=>{const t=new a.default(new r.default([e[1],e[0]]));return t.set("weight",e[2]),t}))});this.obj=new n.default({source:e,blur:this.model.get("blur"),radius:this.model.get("radius")})}modelEvents(){this.model.on("change:blur",this.update_blur,this),this.model.on("change:radius",this.update_radius,this),this.model.on("change:points",this.update_points,this)}update_blur(){this.obj.setBlur(this.model.get("blur"))}update_radius(){this.obj.setRadius(this.model.get("radius"))}update_points(){const e=new d.Vector({features:this.model.get("points").map((e=>{const t=new a.default(new r.default([e[1],e[0]]));return t.set("weight",e[2]),t}))});this.obj.setSource(e)}}t.HeatmapLayerView=u},6330:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ImageOverlayView=t.ImageOverlayModel=void 0;const i=o(3983),s=o(626);o(6791);const l=o(1797);o(890);class n extends s.BaseOverlayModel{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:n.model_name,_model_module:n.model_module,_model_module_version:n.model_module_version,_view_name:n.view_name,_view_module:n.view_module,_view_module_version:n.view_module_version,image_url:""})}}t.ImageOverlayModel=n,n.serializers=Object.assign({},i.DOMWidgetModel.serializers),n.model_name="ImageOverlayModel",n.model_module=l.MODULE_NAME,n.model_module_version=l.MODULE_VERSION,n.view_name="ImageOverlayView",n.view_module=l.MODULE_NAME,n.view_module_version=l.MODULE_VERSION;class d extends s.BaseOverlayView{render(){super.render(),this.updateImageElement()}createElement(){this.element=document.createElement("img")}model_events(){super.model_events(),this.listenTo(this.model,"change:image_url",this.updateImageElement)}updateImageElement(){const e=this.model.get("image_url");e&&(this.element.src=e)}}t.ImageOverlayView=d},2248:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LayerView=t.LayerModel=void 0;const i=o(3983),s=o(1797);class l extends i.WidgetModel{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:l.model_name,_model_module:l.model_module,_model_module_version:l.model_module_version,_view_name:l.view_name,_view_module:l.view_module,_view_module_version:l.view_module_version,value:"Hello World"})}}t.LayerModel=l,l.serializers=Object.assign({},i.WidgetModel.serializers),l.model_name="LayerModel",l.model_module=s.MODULE_NAME,l.model_module_version=s.MODULE_VERSION,l.view_name="LayerView",l.view_module=s.MODULE_NAME,l.view_module_version=s.MODULE_VERSION;class n extends i.WidgetView{render(){super.render(),this.create_obj()}}t.LayerView=n},6333:function(e,t,o){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.MousePositionView=t.MousePositionModel=void 0;const s=o(3983),l=o(8507),n=i(o(3192));o(6791);const d=o(1797);o(890);class a extends l.BaseControlModel{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:a.model_name,_model_module:a.model_module,_model_module_version:a.model_module_version,_view_name:a.view_name,_view_module:a.view_module,_view_module_version:a.view_module_version})}}t.MousePositionModel=a,a.serializers=Object.assign({},s.DOMWidgetModel.serializers),a.model_name="MousePositionModel",a.model_module=d.MODULE_NAME,a.model_module_version=d.MODULE_VERSION,a.view_name="MousePositionView",a.view_module=d.MODULE_NAME,a.view_module_version=d.MODULE_VERSION;class r extends l.BaseControlView{createObj(){this.obj=new n.default({className:"ol-mouse-position"})}}t.MousePositionView=r},7327:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PopupOverlayView=t.PopupOverlayModel=void 0;const i=o(3983);o(6791);const s=o(1797);o(890);const l=o(626);class n extends l.BaseOverlayModel{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:n.model_name,_model_module:n.model_module,_model_module_version:n.model_module_version,_view_name:n.view_name,_view_module:n.view_module,_view_module_version:n.view_module_version})}}t.PopupOverlayModel=n,n.serializers=Object.assign({},i.DOMWidgetModel.serializers),n.model_name="PopupOverlayModel",n.model_module=s.MODULE_NAME,n.model_module_version=s.MODULE_VERSION,n.view_name="PopupOverlayView",n.view_module=s.MODULE_NAME,n.view_module_version=s.MODULE_VERSION;class d extends l.BaseOverlayView{render(){super.render(),this.updatePopupElement()}createElement(){this.element=document.createElement("div")}model_events(){super.model_events(),this.listenTo(this.model,"change:popup_content",this.updatePopupElement)}updatePopupElement(){const e=this.model.get("popup_content");e&&(this.element.innerHTML=e)}}t.PopupOverlayView=d},9819:function(e,t,o){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.RasterTileLayerView=t.RasterTileLayerModel=void 0;const s=o(3983),l=i(o(1725)),n=i(o(6553)),d=o(1797),a=o(2248);class r extends a.LayerModel{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:r.model_name,_model_module:r.model_module,_model_module_version:r.model_module_version,_view_name:r.view_name,_view_module:r.view_module,_view_module_version:r.view_module_version,layers:[],url:"",attributions:[],tileSize:256,max_zoom:19,min_zoom:0})}}t.RasterTileLayerModel=r,r.serializers=Object.assign({},s.DOMWidgetModel.serializers),r.model_name="RasterTileLayerModel",r.model_module=d.MODULE_NAME,r.model_module_version=d.MODULE_VERSION,r.view_name="RasterTileLayerView",r.view_module=d.MODULE_NAME,r.view_module_version=d.MODULE_VERSION;class m extends a.LayerView{render(){super.render(),this.urlChanged(),this.model.on("change:url",this.urlChanged,this)}create_obj(){this.obj=this.tileLayer=new l.default({source:new n.default({url:this.model.get("url"),attributions:this.model.get("attributions"),tileSize:this.model.get("tileSize"),maxZoom:this.model.get("max_zoom"),minZoom:this.model.get("min_zoom")})})}urlChanged(){const e=this.model.get("url");if(e){const t=new n.default({url:e,attributions:this.model.get("attributions"),tileSize:this.model.get("tileSize"),maxZoom:this.model.get("max_zoom"),minZoom:this.model.get("min_zoom")});this.tileLayer.setSource(t)}}}t.RasterTileLayerView=m},4705:function(e,t,o){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ScaleLineView=t.ScaleLineModel=void 0;const s=o(3983),l=o(8507),n=i(o(8116));o(6791);const d=o(1797);o(890);class a extends l.BaseControlModel{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:a.model_name,_model_module:a.model_module,_model_module_version:a.model_module_version,_view_name:a.view_name,_view_module:a.view_module,_view_module_version:a.view_module_version})}}t.ScaleLineModel=a,a.serializers=Object.assign({},s.DOMWidgetModel.serializers),a.model_name="ScaleLineModel",a.model_module=d.MODULE_NAME,a.model_module_version=d.MODULE_VERSION,a.view_name="ScaleLineView",a.view_module=d.MODULE_NAME,a.view_module_version=d.MODULE_VERSION;class r extends l.BaseControlView{createObj(){this.obj=new n.default({className:"ol-scale-line"})}}t.ScaleLineView=r},6797:function(e,t,o){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.VectorTileLayerView=t.VectorTileLayerModel=void 0;const s=o(3983),l=i(o(5669)),n=i(o(3331)),d=o(1797),a=o(2248),r=o(1207),m=i(o(2329)),u=i(o(895)),_=i(o(5968)),c=o(6363);class v extends a.LayerModel{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:v.model_name,_model_module:v.model_module,_model_module_version:v.model_module_version,_view_name:v.view_name,_view_module:v.view_module,_view_module_version:v.view_module_version,features:[]})}}t.VectorTileLayerModel=v,v.serializers=Object.assign({},s.DOMWidgetModel.serializers),v.model_name="VectorTileLayerModel",v.model_module=d.MODULE_NAME,v.model_module_version=d.MODULE_VERSION,v.view_name="VectorTileLayerView",v.view_module=d.MODULE_NAME,v.view_module_version=d.MODULE_VERSION;class h extends a.LayerView{render(){super.render(),this.model.on("change:url",this.urlChanged,this),this.model.on("change:style",this.styleChanged,this),this.model.on("change:visible",this.visibilityChanged,this),this.model.on("change:opacity",this.opacityChanged,this),this.model.on("change:attribution",this.attributionChanged,this),this.model.on("change:max_zoom",this.maxZoomChanged,this),this.model.on("change:min_zoom",this.minZoomChanged,this)}create_obj(){this.urlChanged(),this.styleChanged(),this.visibilityChanged(),this.opacityChanged(),this.attributionChanged(),this.maxZoomChanged(),this.minZoomChanged()}urlChanged(){const e=this.model.get("url");if(e){const t=this.model.get("source_format")||{type:"MVT"};let o;switch(t.type){case"MVT":default:o=new m.default({layerName:t.layer_name,layers:t.layers});break;case"GeoJSON":o=new u.default({dataProjection:t.dataProjection||"EPSG:4326",featureProjection:t.featureProjection,geometryName:t.geometry_name,extractGeometryName:t.extractGeometryName||!1});break;case"TopoJSON":o=new _.default({dataProjection:t.dataProjection||"EPSG:4326",layerName:t.layer_name,layers:t.layers})}const i=new n.default({format:o,url:e,tileGrid:(0,r.createXYZ)({maxZoom:19}),attributions:this.model.get("attribution"),maxZoom:this.model.get("max_zoom"),minZoom:this.model.get("min_zoom")});this.obj?this.obj.setSource(i):this.obj=new l.default({source:i,visible:this.model.get("visible"),opacity:this.model.get("opacity"),style:this.createStyleFunction()})}}visibilityChanged(){const e=this.model.get("visible");this.obj&&this.obj.setVisible(e)}opacityChanged(){const e=this.model.get("opacity");this.obj&&this.obj.setOpacity(e)}attributionChanged(){const e=this.model.get("attribution");if(this.obj){const t=this.obj.getSource();t&&t.setAttributions(e)}}maxZoomChanged(){const e=this.model.get("max_zoom");if(this.obj){const t=this.obj.getSource();t&&t.set("maxZoom",e)}}minZoomChanged(){const e=this.model.get("min_zoom");if(this.obj){const t=this.obj.getSource();t&&t.set("minZoom",e)}}styleChanged(){if(this.obj){const e=this.createStyleFunction();this.obj.setStyle(e)}}createStyleFunction(){const e=this.model.get("style")||{};return t=>new c.Style({stroke:new c.Stroke({color:e.strokeColor||"#3399CC",width:e.strokeWidth||1.25}),fill:new c.Fill({color:e.fillColor||"rgba(255, 255, 255, 0.4)"}),image:new c.Circle({radius:e.pointRadius||5,fill:new c.Fill({color:e.pointFillColor||"#0000FF"}),stroke:new c.Stroke({color:e.pointStrokeColor||"#000000",width:e.pointStrokeWidth||1})})})}}t.VectorTileLayerView=h},1797:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MODULE_NAME=t.MODULE_VERSION=void 0;const i=o(8330);t.MODULE_VERSION=i.version,t.MODULE_NAME=i.name},9329:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VideoOverlayView=t.VideoOverlayModel=void 0;const i=o(3983);o(6791);const s=o(1797);o(890);const l=o(626);class n extends l.BaseOverlayModel{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:n.model_name,_model_module:n.model_module,_model_module_version:n.model_module_version,_view_name:n.view_name,_view_module:n.view_module,_view_module_version:n.view_module_version})}}t.VideoOverlayModel=n,n.serializers=Object.assign({},i.DOMWidgetModel.serializers),n.model_name="VideoOverlayModel",n.model_module=s.MODULE_NAME,n.model_module_version=s.MODULE_VERSION,n.view_name="VideoOverlayVIew",n.view_module=s.MODULE_NAME,n.view_module_version=s.MODULE_VERSION;class d extends l.BaseOverlayView{render(){super.render(),this.updateVideoElement()}createElement(){this.element=document.createElement("div"),this.videoElement=document.createElement("video"),this.videoElement.controls=!0,this.element.appendChild(this.videoElement)}model_events(){super.model_events(),this.listenTo(this.model,"change:video_url",this.updateVideoElement)}updateVideoElement(){const e=this.model.get("video_url");e&&(this.videoElement.src=e)}}t.VideoOverlayView=d},8885:function(e,t,o){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,o,i){void 0===i&&(i=o);var s=Object.getOwnPropertyDescriptor(t,o);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[o]}}),Object.defineProperty(e,i,s)}:function(e,t,o,i){void 0===i&&(i=o),e[i]=t[o]}),s=this&&this.__exportStar||function(e,t){for(var o in e)"default"===o||Object.prototype.hasOwnProperty.call(t,o)||i(t,e,o)},l=this&&this.__awaiter||function(e,t,o,i){return new(o||(o=Promise))((function(s,l){function n(e){try{a(i.next(e))}catch(e){l(e)}}function d(e){try{a(i.throw(e))}catch(e){l(e)}}function a(e){var t;e.done?s(e.value):(t=e.value,t instanceof o?t:new o((function(e){e(t)}))).then(n,d)}a((i=i.apply(e,t||[])).next())}))},n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.MapView=t.MapModel=void 0;const d=o(3983),a=n(o(2422)),r=o(6247),m=n(o(1901));o(6791);const u=o(1797);o(890);const _=o(8831),c=o(2604);s(o(6330),t),s(o(7238),t),s(o(9329),t),s(o(7327),t),s(o(5059),t),s(o(832),t),s(o(4705),t),s(o(6333),t),s(o(4721),t),s(o(9819),t),s(o(6050),t),s(o(6797),t);const v=[0,0];class h extends d.DOMWidgetModel{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:h.model_name,_model_module:h.model_module,_model_module_version:h.model_module_version,_view_name:h.view_name,_view_module:h.view_module,_view_module_version:h.view_module_version,layers:[],controls:[],overlays:[],zoom:2,center:v})}}t.MapModel=h,h.serializers=Object.assign(Object.assign({},d.DOMWidgetModel.serializers),{layers:{deserialize:d.unpack_models},overlays:{deserialize:d.unpack_models},controls:{deserialize:d.unpack_models}}),h.model_name="MapModel",h.model_module=u.MODULE_NAME,h.model_module_version=u.MODULE_VERSION,h.view_name="MapView",h.view_module=u.MODULE_NAME,h.view_module_version=u.MODULE_VERSION;class p extends d.DOMWidgetView{render(){(0,_.useGeographic)(),this.el.classList.add("jupyter-widgets"),this.el.classList.add("ipyopenlayer-widgets"),this.map_container=document.createElement("div"),this.map_container.classList.add("ol-container"),requestAnimationFrame((()=>{const e=this.el.parentElement;if(e){e.classList.add("ipyopenlayer-map-container-wrapper");const t=e.parentElement;t&&t.classList.add("ipyopenlayer-map-container-wrapper-parent")}})),this.el.appendChild(this.map_container),this.layerViews=new d.ViewList(this.addLayerModel,this.removeLayerView,this),this.overlayViews=new d.ViewList(this.addOverlayModel,this.removeOverlayView,this),this.controlViews=new d.ViewList(this.addControlModel,this.removeControlView,this),this.map=new r.Map({target:this.map_container,view:new m.default({center:this.model.get("center"),zoom:this.model.get("zoom")}),layers:[new a.default({source:new c.OSM})]}),this.map.on("click",(e=>{this.handleMapClick(e)})),this.map.getView().on("change:center",(()=>{this.model.set("center",this.map.getView().getCenter()),this.model.save_changes()})),this.map.getView().on("change:resolution",(e=>{this.model.set("zoom",this.map.getView().getZoom()),this.model.save_changes()})),this.layersChanged(),this.overlayChanged(),this.controlChanged(),this.model.on("change:layers",this.layersChanged,this),this.model.on("change:overlays",this.overlayChanged,this),this.model.on("change:controls",this.controlChanged,this),this.model.on("change:zoom",this.zoomChanged,this),this.model.on("change:center",this.centerChanged,this)}handleMapClick(e){const t=e.coordinate,[o,i]=t;this.send({type:"click",lon:o,lat:i})}layersChanged(){const e=this.model.get("layers");this.layerViews.update(e)}overlayChanged(){const e=this.model.get("overlays");this.overlayViews.update(e)}controlChanged(){const e=this.model.get("controls");this.controlViews.update(e)}zoomChanged(){const e=this.model.get("zoom");null!=e&&this.map.getView().setZoom(e)}centerChanged(){const e=this.model.get("center");null!=e&&this.map.getView().setCenter(e)}removeLayerView(e){this.map.removeLayer(e.obj),e.remove()}removeOverlayView(e){e.overlay&&this.map.removeOverlay(e.overlay),e.remove()}removeControlView(e){this.map.removeControl(e.obj),e.remove()}addLayerModel(e){return l(this,void 0,void 0,(function*(){const t=yield this.create_child_view(e,{map_view:this});return this.map.addLayer(t.obj),this.displayed.then((()=>{t.trigger("displayed",this)})),t}))}addOverlayModel(e){return l(this,void 0,void 0,(function*(){const t=yield this.create_child_view(e,{map_view:this});return this.map.addOverlay(t.overlay),this.displayed.then((()=>{t.trigger("displayed",this)})),t}))}addControlModel(e){return l(this,void 0,void 0,(function*(){const t=yield this.create_child_view(e,{map_view:this});return t.obj&&(this.map.addControl(t.obj),this.displayed.then((()=>{t.trigger("displayed",this)}))),t}))}}t.MapView=p},5059:function(e,t,o){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ZoomSliderView=t.ZoomSliderModel=void 0;const s=o(3983),l=o(8507),n=i(o(8032));o(6791);const d=o(1797);o(890);class a extends l.BaseControlModel{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:a.model_name,_model_module:a.model_module,_model_module_version:a.model_module_version,_view_name:a.view_name,_view_module:a.view_module,_view_module_version:a.view_module_version})}}t.ZoomSliderModel=a,a.serializers=Object.assign({},s.DOMWidgetModel.serializers),a.model_name="ZoomSliderModel",a.model_module=d.MODULE_NAME,a.model_module_version=d.MODULE_VERSION,a.view_name="ZoomSliderView",a.view_module=d.MODULE_NAME,a.view_module_version=d.MODULE_VERSION;class r extends l.BaseControlView{createObj(){this.obj=new n.default({className:"ol-zoomslider"})}}t.ZoomSliderView=r},6780:(e,t,o)=>{"use strict";o.d(t,{A:()=>d});var i=o(6551),s=o.n(i),l=o(1992),n=o.n(l)()(s());n.push([e.id,".lm-Widget.lm-Panel.jp-OutputArea-output.ipyopenlayer-map-container-wrapper {\n  height: 100%;\n}\n.lm-Widget.lm-Panel.jp-OutputArea-child.jp-OutputArea-executeResult.ipyopenlayer-map-container-wrapper-parent {\n  height: 100%;\n}\n\n.ol-container {\n  height: 100%;\n  width: 100%;\n}\n.jp-LinkedOutputView .jupyter-widgets.ipyopenlayer-widgets {\n  min-height: 500px;\n  height: 100%;\n}\n\n.jupyter-widgets.ipyopenlayer-widgets {\n  height: 400px;\n  overflow: hidden;\n  flex: 1 1 auto;\n}\n",""]);const d=n},890:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>w});var i=o(8318),s=o.n(i),l=o(5879),n=o.n(l),d=o(237),a=o.n(d),r=o(4862),m=o.n(r),u=o(1050),_=o.n(u),c=o(8495),v=o.n(c),h=o(6780),p={};p.styleTagTransform=v(),p.setAttributes=m(),p.insert=a().bind(null,"head"),p.domAPI=n(),p.insertStyleElement=_(),s()(h.A,p);const w=h.A&&h.A.locals?h.A.locals:void 0},8625:()=>{},6504:()=>{},6580:()=>{},8330:e=>{"use strict";e.exports=JSON.parse('{"name":"ipyopenlayers","version":"0.2.0","description":"OpenLayers Jupyter Widget","keywords":["jupyter","jupyterlab","jupyterlab-extension","widgets"],"files":["lib/**/*.js","dist/*.js","css/*.css"],"homepage":"https://github.com/QuantStack/ipyopenlayers","bugs":{"url":"https://github.com/QuantStack/ipyopenlayers/issues"},"license":"BSD-3-Clause","author":{"name":"QuantStack","email":"me@me.com"},"main":"lib/index.js","types":"./lib/index.d.ts","repository":{"type":"git","url":"https://github.com/QuantStack/ipyopenlayers"},"scripts":{"build":"jlpm run build:lib && jlpm run build:nbextension && jlpm run build:labextension:dev","build:prod":"jlpm run build:lib && jlpm run build:nbextension && jlpm run build:labextension","build:labextension":"jupyter labextension build .","build:labextension:dev":"jupyter labextension build --development True .","build:lib":"tsc","build:nbextension":"webpack","clean":"jlpm run clean:lib && jlpm run clean:nbextension && jlpm run clean:labextension","clean:lib":"rimraf lib","clean:labextension":"rimraf ipyopenlayers/labextension","clean:nbextension":"rimraf ipyopenlayers/nbextension/static/index.js","lint":"eslint . --ext .ts,.tsx --fix","lint:check":"eslint . --ext .ts,.tsx","prepack":"jlpm run build:lib","test":"jest","watch":"npm-run-all -p watch:*","watch:lib":"tsc -w","watch:nbextension":"webpack --watch --mode=development","watch:labextension":"jupyter labextension watch ."},"dependencies":{"@jupyter-widgets/base":"^1.1.10 || ^2 || ^3 || ^4 || ^5 || ^6","ol":"^9.1.0"},"devDependencies":{"@babel/core":"^7.23.7","@babel/preset-env":"^7.23.8","@jupyter-widgets/base-manager":"^1.0.7","@jupyterlab/builder":"^4.0.11","@lumino/application":"^2.3.0","@lumino/widgets":"^2.3.1","@types/jest":"^29.5.11","@types/webpack-env":"^1.18.4","@typescript-eslint/eslint-plugin":"^6.19.1","@typescript-eslint/parser":"^6.19.1","acorn":"^8.11.3","css-loader":"^7.1.2","eslint":"^8.56.0","eslint-config-prettier":"^9.1.0","eslint-plugin-prettier":"^5.1.3","fs-extra":"^11.2.0","identity-obj-proxy":"^3.0.0","jest":"^29.7.0","mkdirp":"^3.0.1","npm-run-all":"^4.1.5","prettier":"^3.2.4","rimraf":"^5.0.5","source-map-loader":"^5.0.0","style-loader":"^4.0.0","ts-jest":"^29.1.2","ts-loader":"^9.5.1","typescript":"~5.3.3","webpack":"^5.93.0","webpack-cli":"^5.1.4"},"devDependenciesComments":{"@jupyterlab/builder":"pinned to the latest JupyterLab 3.x release","@lumino/application":"pinned to the latest Lumino 1.x release","@lumino/widgets":"pinned to the latest Lumino 1.x release"},"jupyterlab":{"extension":"lib/plugin","outputDir":"ipyopenlayers/labextension/","sharedPackages":{"@jupyter-widgets/base":{"bundled":false,"singleton":true}}}}')}}]);