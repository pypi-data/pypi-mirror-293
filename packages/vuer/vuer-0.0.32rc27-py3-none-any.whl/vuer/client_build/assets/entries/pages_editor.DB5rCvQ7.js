import{r as f,j as e,d as P,i as E,a as v,b as z,c as U}from"../chunks/chunk-CYTjWIao.js";import{a0 as D,a1 as A,a2 as V,Z as C,a3 as M,a4 as c,a5 as F,a6 as R,a7 as _,a8 as k,a9 as O,aa as h,X as x,_ as m,Y as j,$ as T,ab as I,ac as S,ad as y,ae as b,af as $,ag as B}from"../chunks/chunk-DIVModTD.js";import"../chunks/chunk-B5NqXhlg.js";const w=({stream:t,children:a,...r})=>{const u=f.useCallback((s,g)=>{Object.keys(s).forEach((i,L)=>{const p=i.toLowerCase().split(".").pop();let o,d,l;p==="urdf"?(o="Urdf",d=i,l=[-90,0,0].map(n=>n*Math.PI/180)):p==="obj"?(o="Obj",d=s[i],l=[-90,0,0].map(n=>n*Math.PI/180)):p==="pcd"?(o="Pcd",d=s[i],l=[-90,0,0].map(n=>n*Math.PI/180)):p==="ply"?(o="Ply",d=s[i],l=[-90,0,0].map(n=>n*Math.PI/180)):p==="splat"?(o="Splat",d=s[i],l=[-90,0,-90].map(n=>n*Math.PI/180)):p==="glb"?(o="Glb",d=s[i],l=[0,0,0]):p==="gltf"&&(o="Glb",d=s[i],l=[0,0,0]),o&&t.publish(D([{tag:o,src:d,key:`${i}`,assets:s,rotation:l}]))}),g()},[t]);return e.jsx(A,{onLoad:u,...r,children:a})};function K(){const t=_(),{downlink:a}=k();f.useEffect(()=>{if(!t)return;const u=[a.subscribe("SET",t.addKeyFrame),a.subscribe("ADD",t.addKeyFrame),a.subscribe("UPDATE",t.addKeyFrame),a.subscribe("UPSERT",t.addKeyFrame),a.subscribe("REMOVE",t.addKeyFrame)];return()=>{u.forEach(s=>s())}},[t,a]);const r=f.useMemo(()=>t!=null&&t.store?new O(a,t.store):a,[a,t==null?void 0:t.store]);return t?e.jsxs(I,{offset:200,minOffset:48,hidden:!0,style:{width:"100%",height:"100%"},children:[e.jsx(w,{stream:r,prompt:"scene files supported: *.urdf *.pcd *.ply *.splat",children:e.jsx(h,{frameloop:"always",stream:r,bgChildren:[e.jsx(x,{_key:"default-grid"},"default-grid"),e.jsx(m,{intensity:.25},"ambient"),e.jsx(j,{intensity:1,position:[0,1,1]},"spot"),e.jsx(T,{fps:30,eventType:["squeeze"],stream:!0})]})}),e.jsx(e.Fragment,{children:e.jsx(S,{children:e.jsxs(y,{children:[e.jsx(b,{}),e.jsx($,{children:e.jsx(B,{})})]})})}),e.jsx(S,{children:e.jsx(y,{children:e.jsx(b,{})})})]}):e.jsx(w,{stream:r,children:e.jsx(h,{frameloop:"always",stream:a,bgChildren:[e.jsx(x,{_key:"default-grid"},"default-grid"),e.jsx(m,{intensity:.25},"ambient"),e.jsx(j,{intensity:1,position:[0,1,1]},"spot"),e.jsx(T,{fps:30,eventType:["squeeze"],stream:!0})]})})}function H(){const t=c(({children:r})=>r),a=c(({ops:r})=>r);return e.jsxs(F,{vertical:!0,offset:-200,hidden:!0,children:[e.jsx(K,{}),e.jsx(R,{title:"Scene Graph",nodes:t,sceneOps:a})]})}function W(){const t=typeof window>"u";return e.jsxs(e.Fragment,{children:[e.jsx(P,{children:e.jsx("title",{children:"Vuer | Stereo Video and WebRTC Demo"})}),e.jsxs("main",{children:[e.jsx(V,{children:t?null:e.jsx(C,{children:e.jsx(H,{})})}),e.jsx(M,{theme:{sizes:{rootWidth:"380px",controlWidth:"200px",numberInputMinWidth:"56px"}}})]})]})}const G=Object.freeze(Object.defineProperty({__proto__:null,default:W},Symbol.toStringTag,{value:"Module"})),X={onBeforeRenderEnv:{type:"computed",definedAtData:null,valueSerialized:{type:"js-serialized",value:null}},dataEnv:{type:"computed",definedAtData:null,valueSerialized:{type:"js-serialized",value:null}},hydrationCanBeAborted:{type:"standard",definedAtData:{filePathToShowToUser:"/renderer/+config.ts",fileExportPathToShowToUser:["default","hydrationCanBeAborted"]},valueSerialized:{type:"js-serialized",value:!0}},hooksTimeout:{type:"standard",definedAtData:{filePathToShowToUser:"/renderer/+config.ts",fileExportPathToShowToUser:["default","hooksTimeout"]},valueSerialized:{type:"js-serialized",value:{data:{error:3e4,warning:1e4}}}},onHydrationEnd:{type:"standard",definedAtData:{filePathToShowToUser:"/renderer/+onHydrationEnd.ts",fileExportPathToShowToUser:[]},valueSerialized:{type:"plus-file",exportValues:E}},onPageTransitionEnd:{type:"standard",definedAtData:{filePathToShowToUser:"/renderer/+onPageTransitionEnd.ts",fileExportPathToShowToUser:[]},valueSerialized:{type:"plus-file",exportValues:v}},onPageTransitionStart:{type:"standard",definedAtData:{filePathToShowToUser:"/renderer/+onPageTransitionStart.ts",fileExportPathToShowToUser:[]},valueSerialized:{type:"plus-file",exportValues:z}},onRenderClient:{type:"standard",definedAtData:{filePathToShowToUser:"/renderer/+onRenderClient.tsx",fileExportPathToShowToUser:[]},valueSerialized:{type:"plus-file",exportValues:U}},Page:{type:"standard",definedAtData:{filePathToShowToUser:"/pages/editor/+Page.tsx",fileExportPathToShowToUser:[]},valueSerialized:{type:"plus-file",exportValues:G}}};export{X as configValuesSerialized};
//# sourceMappingURL=pages_editor.DB5rCvQ7.js.map
